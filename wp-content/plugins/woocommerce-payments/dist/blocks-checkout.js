/*! For license information please see blocks-checkout.js.LICENSE.txt */
(()=>{var e={2926:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;function l(){}function u(){}u.resetWarningCache=l;var d,p,m=(d=function(e){e.exports=function(){function e(e,t,n,o,r,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:l};return n.PropTypes=n,n}()},d(p={exports:{}},p.exports),p.exports),h=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},f=function(e){return null!==e&&"object"===r(e)},y="[object Object]",g=function e(t,n){if(!f(t)||!f(n))return t===n;var o=Array.isArray(t);if(o!==Array.isArray(n))return!1;var r=Object.prototype.toString.call(t)===y;if(r!==(Object.prototype.toString.call(n)===y))return!1;if(!r&&!o)return t===n;var a=Object.keys(t),i=Object.keys(n);if(a.length!==i.length)return!1;for(var s={},c=0;c<a.length;c+=1)s[a[c]]=!0;for(var l=0;l<i.length;l+=1)s[i[l]]=!0;var u=Object.keys(s);if(u.length!==a.length)return!1;var d=t,p=n;return u.every((function(t){return e(d[t],p[t])}))},b=function(e,t,n){return f(e)?Object.keys(e).reduce((function(r,i){var s=!f(t)||!g(e[i],t[i]);return n.includes(i)?(s&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):s?o(o({},r||{}),{},a({},i,e[i])):r}),null):null},v="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",w=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(null===e||f(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(n)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(function(e){return f(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return w(e,t)}))};var n=w(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},k=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.5.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.5.1",url:"https://stripe.com/docs/stripe-js/react"}))},C=t.createContext(null);C.displayName="ElementsContext";var x=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},S=t.createContext(null);S.displayName="CartElementContext";var P=function(e){var n=e.stripe,o=e.options,r=e.children,a=t.useMemo((function(){return _(n)}),[n]),i=s(t.useState(null),2),c=i[0],l=i[1],u=s(t.useState(null),2),d=u[0],p=u[1],m=s(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(o):null}})),2),f=m[0],y=m[1];t.useEffect((function(){var e=!0,t=function(e){y((function(t){return t.stripe?t:{stripe:e,elements:e.elements(o)}}))};return"async"!==a.tag||f.stripe?"sync"!==a.tag||f.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,f,o]);var g=h(n);t.useEffect((function(){null!==g&&g!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[g,n]);var v=h(o);return t.useEffect((function(){if(f.elements){var e=b(o,v,["clientSecret","fonts"]);e&&f.elements.update(e)}}),[o,v,f.elements]),t.useEffect((function(){k(f.stripe)}),[f.stripe]),t.createElement(C.Provider,{value:f},t.createElement(S.Provider,{value:{cart:c,setCart:l,cartState:d,setCartState:p}},r))};P.propTypes={stripe:m.any,options:m.object};var E=function(e){var n=t.useContext(C);return x(n,e)},M={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},F=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.useContext(S);return n?M:function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(o,e)},L=function(e){return(0,e.children)(E("mounts <ElementsConsumer>"))};L.propTypes={children:m.func.isRequired};var j=function(e,n,o){var r=!!o,a=t.useRef(o);t.useEffect((function(){a.current=o}),[o]),t.useEffect((function(){if(!r||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[r,n,e,a])},T=["on","session"],R=t.createContext(null);R.displayName="CustomCheckoutSdkContext";var A=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},I=t.createContext(null);I.displayName="CustomCheckoutContext";var W=function(e){var n=e.stripe,r=e.options,a=e.children,c=t.useMemo((function(){return _(n,"Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")}),[n]),l=s(t.useState(null),2),u=l[0],d=l[1],p=s(t.useState((function(){return{stripe:"sync"===c.tag?c.stripe:null,customCheckoutSdk:null}})),2),m=p[0],y=p[1],b=function(e,t){y((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},v=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==c.tag||m.stripe?"sync"===c.tag&&c.stripe&&!v.current&&(v.current=!0,c.stripe.initCustomCheckout(r).then((function(e){e&&(b(c.stripe,e),e.on("change",d))}))):c.stripePromise.then((function(t){t&&e&&!v.current&&(v.current=!0,t.initCustomCheckout(r).then((function(e){e&&(b(t,e),e.on("change",d))})))})),function(){e=!1}}),[c,m,r,d]);var w=h(n);t.useEffect((function(){null!==w&&w!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[w,n]);var C=h(r);t.useEffect((function(){var e,t;if(m.customCheckoutSdk){!r.clientSecret||f(C)||g(r.clientSecret,C.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null==C||null===(e=C.elementsOptions)||void 0===e?void 0:e.appearance,o=null==r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;o&&!g(o,n)&&m.customCheckoutSdk.changeAppearance(o)}}),[r,C,m.customCheckoutSdk]),t.useEffect((function(){k(m.stripe)}),[m.stripe]);var x=t.useMemo((function(){return e=m.customCheckoutSdk,t=u,e?(e.on,e.session,o(o({},i(e,T)),t||e.session())):null;var e,t}),[m.customCheckoutSdk,u]);return m.customCheckoutSdk?t.createElement(R.Provider,{value:m},t.createElement(I.Provider,{value:x},a)):null};W.propTypes={stripe:m.any,options:m.shape({clientSecret:m.string.isRequired,elementsOptions:m.object}).isRequired};var N=function(e){var n=t.useContext(R),o=t.useContext(C);if(n&&o)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?A(n,e):x(o,e)},D=function(e,n){var o,r="".concat((o=e).charAt(0).toUpperCase()+o.slice(1),"Element"),a=n?function(e){var n=N("mounts <".concat(r,">"));F("mounts <".concat(r,">"),"customCheckoutSdk"in n);var o=e.id,a=e.className;return t.createElement("div",{id:o,className:a})}:function(n){var o,a=n.id,i=n.className,c=n.options,l=void 0===c?{}:c,u=n.onBlur,d=n.onFocus,p=n.onReady,m=n.onChange,f=n.onEscape,y=n.onClick,g=n.onLoadError,v=n.onLoaderStart,w=n.onNetworksChange,_=n.onCheckout,k=n.onLineItemClick,C=n.onConfirm,x=n.onCancel,S=n.onShippingAddressChange,P=n.onShippingRateChange,E=N("mounts <".concat(r,">")),M="elements"in E?E.elements:null,L="customCheckoutSdk"in E?E.customCheckoutSdk:null,T=s(t.useState(null),2),R=T[0],A=T[1],I=t.useRef(null),W=t.useRef(null),D=F("mounts <".concat(r,">"),"customCheckoutSdk"in E),O=D.setCart,H=D.setCartState;j(R,"blur",u),j(R,"focus",d),j(R,"escape",f),j(R,"click",y),j(R,"loaderror",g),j(R,"loaderstart",v),j(R,"networkschange",w),j(R,"lineitemclick",k),j(R,"confirm",C),j(R,"cancel",x),j(R,"shippingaddresschange",S),j(R,"shippingratechange",P),"cart"===e?o=function(e){H(e),p&&p(e)}:p&&(o="expressCheckout"===e?p:function(){p(R)}),j(R,"ready",o),j(R,"change","cart"===e?function(e){H(e),m&&m(e)}:m),j(R,"checkout","cart"===e?function(e){H(e),_&&_(e)}:_),t.useLayoutEffect((function(){if(null===I.current&&null!==W.current&&(M||L)){var t=null;L?t=L.createElement(e,l):M&&(t=M.create(e,l)),"cart"===e&&O&&O(t),I.current=t,A(t),t&&t.mount(W.current)}}),[M,L,l,O]);var V=h(l);return t.useEffect((function(){if(I.current){var e=b(l,V,["paymentRequest"]);e&&I.current.update(e)}}),[l,V]),t.useLayoutEffect((function(){return function(){if(I.current&&"function"==typeof I.current.destroy)try{I.current.destroy(),I.current=null}catch(e){}}}),[]),t.createElement("div",{id:a,className:i,ref:W})};return a.propTypes={id:m.string,className:m.string,onChange:m.func,onBlur:m.func,onFocus:m.func,onReady:m.func,onEscape:m.func,onClick:m.func,onLoadError:m.func,onLoaderStart:m.func,onNetworksChange:m.func,onCheckout:m.func,onLineItemClick:m.func,onConfirm:m.func,onCancel:m.func,onShippingAddressChange:m.func,onShippingRateChange:m.func,options:m.object},a.displayName=r,a.__elementType=e,a},O="undefined"==typeof window,H=t.createContext(null);H.displayName="EmbeddedCheckoutProviderContext";var V=function(){var e=t.useContext(H);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},B=O?function(e){var n=e.id,o=e.className;return V(),t.createElement("div",{id:n,className:o})}:function(e){var n=e.id,o=e.className,r=V().embeddedCheckout,a=t.useRef(!1),i=t.useRef(null);return t.useLayoutEffect((function(){return!a.current&&r&&null!==i.current&&(r.mount(i.current),a.current=!0),function(){if(a.current&&r)try{r.unmount(),a.current=!1}catch(e){}}}),[r]),t.createElement("div",{ref:i,id:n,className:o})},q=D("auBankAccount",O),Z=D("card",O),z=D("cardNumber",O),X=D("cardExpiry",O),Y=D("cardCvc",O),G=D("fpxBank",O),U=D("iban",O),$=D("idealBank",O),J=D("p24Bank",O),Q=D("epsBank",O),K=D("payment",O),ee=D("expressCheckout",O),te=D("paymentRequestButton",O),ne=D("linkAuthentication",O),oe=D("address",O),re=D("shippingAddress",O),ae=D("cart",O),ie=D("paymentMethodMessaging",O),se=D("affirmMessage",O),ce=D("afterpayClearpayMessage",O);e.AddressElement=oe,e.AffirmMessageElement=se,e.AfterpayClearpayMessageElement=ce,e.AuBankAccountElement=q,e.CardCvcElement=Y,e.CardElement=Z,e.CardExpiryElement=X,e.CardNumberElement=z,e.CartElement=ae,e.CustomCheckoutProvider=W,e.Elements=P,e.ElementsConsumer=L,e.EmbeddedCheckout=B,e.EmbeddedCheckoutProvider=function(e){var n=e.stripe,o=e.options,r=e.children,a=t.useMemo((function(){return _(n,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")}),[n]),i=t.useRef(null),c=t.useRef(null),l=s(t.useState({embeddedCheckout:null}),2),u=l[0],d=l[1];t.useEffect((function(){if(!c.current&&!i.current){var e=function(e){c.current||i.current||(c.current=e,i.current=c.current.initEmbeddedCheckout(o).then((function(e){d({embeddedCheckout:e})})))};"async"===a.tag&&!c.current&&o.clientSecret?a.stripePromise.then((function(t){t&&e(t)})):"sync"===a.tag&&!c.current&&o.clientSecret&&e(a.stripe)}}),[a,o,u,c]),t.useEffect((function(){return function(){u.embeddedCheckout?(i.current=null,u.embeddedCheckout.destroy()):i.current&&i.current.then((function(){i.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){k(c)}),[c]);var p=h(n);t.useEffect((function(){null!==p&&p!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[p,n]);var m=h(o);return t.useEffect((function(){null!=m&&(null!=o?(null!=m.clientSecret&&o.clientSecret!==m.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=m.onComplete&&o.onComplete!==m.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[m,o]),t.createElement(H.Provider,{value:u},r)},e.EpsBankElement=Q,e.ExpressCheckoutElement=ee,e.FpxBankElement=G,e.IbanElement=U,e.IdealBankElement=$,e.LinkAuthenticationElement=ne,e.P24BankElement=J,e.PaymentElement=K,e.PaymentMethodMessagingElement=ie,e.PaymentRequestButtonElement=te,e.ShippingAddressElement=re,e.useCartElement=function(){return F("calls useCartElement()").cart},e.useCartElementState=function(){return F("calls useCartElementState()").cartState},e.useCustomCheckout=function(){!function(e){var n=t.useContext(R);A(n,e)}("calls useCustomCheckout()");var e=t.useContext(I);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},e.useElements=function(){return E("calls useElements()").elements},e.useStripe=function(){return N("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(1609))},2485:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=r.apply(null,n);i&&e.push(i)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)o.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},5228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var a,i,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(s[l]=a[l]);if(t){i=t(a);for(var u=0;u<i.length;u++)o.call(a,i[u])&&(s[i[u]]=a[i[u]])}}return s}},1020:(e,t,n)=>{"use strict";n(5228);var o=n(1609),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),t.Fragment=a("react.fragment")}var i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var o,a={},l=null,u=null;for(o in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,o)&&!c.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:r,type:e,key:l,ref:u,props:a,_owner:i.current}}t.jsx=l,t.jsxs=l},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},6255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,o;(0,r.default)(e),"object"===a(t)?(n=t.min||0,o=t.max):(n=arguments[1],o=arguments[2]);var i=encodeURI(e).split(/%..|./).length-1;return i>=n&&(void 0===o||i<=o)};var o,r=(o=n(3399))&&o.__esModule?o:{default:o};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}e.exports=t.default,e.exports.default=t.default},9517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(e),(t=(0,s.default)(t,l)).require_display_name||t.allow_display_name){var n=e.match(u);if(n){var c=n[1];if(e=e.replace(c,"").replace(/(^<|>$)/g,""),c.endsWith(" ")&&(c=c.slice(0,-1)),!function(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;if(/[\.";<>]/.test(t)){if(t===e)return!1;if(t.split('"').length!==t.split('\\"').length)return!1}return!0}(c))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>y)return!1;var g=e.split("@"),b=g.pop(),v=b.toLowerCase();if(t.host_blacklist.includes(v))return!1;if(t.host_whitelist.length>0&&!t.host_whitelist.includes(v))return!1;var w=g.join("@");if(t.domain_specific_validation&&("gmail.com"===v||"googlemail.com"===v)){var _=(w=w.toLowerCase()).split("+")[0];if(!(0,r.default)(_.replace(/\./g,""),{min:6,max:30}))return!1;for(var k=_.split("."),C=0;C<k.length;C++)if(!p.test(k[C]))return!1}if(!(!1!==t.ignore_max_length||(0,r.default)(w,{max:64})&&(0,r.default)(b,{max:254})))return!1;if(!(0,a.default)(b,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,i.default)(b)){if(!b.startsWith("[")||!b.endsWith("]"))return!1;var x=b.slice(1,-1);if(0===x.length||!(0,i.default)(x))return!1}}if('"'===w[0])return w=w.slice(1,w.length-1),t.allow_utf8_local_part?f.test(w):m.test(w);for(var S=t.allow_utf8_local_part?h:d,P=w.split("."),E=0;E<P.length;E++)if(!S.test(P[E]))return!1;return!t.blacklisted_chars||-1===w.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g"))};var o=c(n(3399)),r=c(n(6255)),a=c(n(7658)),i=c(n(5372)),s=c(n(3610));function c(e){return e&&e.__esModule?e:{default:e}}var l={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,f=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,y=254;e.exports=t.default,e.exports.default=t.default},7658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(e),(t=(0,r.default)(t,i)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var n=e.split("."),a=n[n.length-1];if(t.require_tld){if(n.length<2)return!1;if(!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/\s/.test(a))return!1}return!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&n.every((function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))}))};var o=a(n(3399)),r=a(n(3610));function a(e){return e&&e.__esModule?e:{default:e}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};e.exports=t.default,e.exports.default=t.default},5372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,r.default)(t),(n=String(n))?"4"===n?s.test(t):"6"===n&&l.test(t):e(t,4)||e(t,6)};var o,r=(o=n(3399))&&o.__esModule?o:{default:o},a="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i="(".concat(a,"[.]){3}").concat(a),s=new RegExp("^".concat(i,"$")),c="(?:[0-9a-fA-F]{1,4})",l=new RegExp("^("+"(?:".concat(c,":){7}(?:").concat(c,"|:)|")+"(?:".concat(c,":){6}(?:").concat(i,"|:").concat(c,"|:)|")+"(?:".concat(c,":){5}(?::").concat(i,"|(:").concat(c,"){1,2}|:)|")+"(?:".concat(c,":){4}(?:(:").concat(c,"){0,1}:").concat(i,"|(:").concat(c,"){1,3}|:)|")+"(?:".concat(c,":){3}(?:(:").concat(c,"){0,2}:").concat(i,"|(:").concat(c,"){1,4}|:)|")+"(?:".concat(c,":){2}(?:(:").concat(c,"){0,3}:").concat(i,"|(:").concat(c,"){1,5}|:)|")+"(?:".concat(c,":){1}(?:(:").concat(c,"){0,4}:").concat(i,"|(:").concat(c,"){1,6}|:)|")+"(?::((?::".concat(c,"){0,5}:").concat(i,"|(?::").concat(c,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},3399:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},3610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},e.exports=t.default,e.exports.default=t.default},1609:e=>{"use strict";e.exports=window.React}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.p=window.wcpayAssets.url,(()=>{"use strict";const e=window.wc.wcBlocksRegistry,t=e=>"undefined"!=typeof wcpayConfig?wcpayConfig[e]:o(e),o=e=>{let t=null;if("undefined"!=typeof wcpay_upe_config)t=wcpay_upe_config;else{if("object"!=typeof wc||void 0===wc.wcSettings)return null;t=wc.wcSettings.getSetting("woocommerce_payments_data")||{}}return t[e]||null},r="woocommerce_payments_express_checkout",a="woocommerce_payments_woopay_express_checkout",i="wc/store/cart",s=(e,t)=>{const n={fields:{billingDetails:{name:"never",email:"never",phone:"never",address:{country:"never",line1:"never",line2:"never",city:"never",state:"never",postalCode:"never"}}},wallets:{applePay:"never",googlePay:"never"}},r=e||o("cartContainsSubscription")?"always":"never";return n.terms=((e,t="always")=>Object.keys(e).filter((t=>"link"!==t&&e[t].isReusable)).reduce(((e,n)=>(e[n]=t,e)),{}))(t,r),n},c=e=>void 0!==e.link&&void 0!==e.card,l=()=>document.querySelector(".wcpay-payment-element")?.closest("form")?.querySelector("#email")?.value,u=e=>{const t=document.querySelector(".wcpay-payment-element");if(!t)return;const n=t.closest("form")?.querySelector("#email");if(!n)return;const o=document.createElement("button");o.setAttribute("class","wcpay-stripelink-modal-trigger"),o.style.display=n.value?"inline-block":"none",o.addEventListener("click",(t=>{t.preventDefault(),e.launch({email:n.value})})),n.parentNode.appendChild(o)},d=e=>"object"==typeof wcpayExpressCheckoutParams&&wcpayExpressCheckoutParams.hasOwnProperty(e)?wcpayExpressCheckoutParams[e]:"object"==typeof wcpayPaymentRequestParams&&wcpayPaymentRequestParams.hasOwnProperty(e)?wcpayPaymentRequestParams[e]:null,p=()=>"undefined"==typeof wcpaySettings?4:parseInt(window?.wcpaySettings?.defaultExpressCheckoutBorderRadius||4,10),m=e=>d("wc_ajax_url").toString().replace("%%endpoint%%","wcpay_"+e),h=(e,t,n="wcpay_")=>e.toString().replace("%%endpoint%%",n+t),f=["color","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"],y=["fontFamily","fontSize","lineHeight","letterSpacing","fontWeight","fontVariation","textDecoration","textShadow","textTransform","-webkit-font-smoothing","-moz-osx-font-smoothing","transition"],g=["backgroundColor","border","borderTop","borderRight","borderBottom","borderLeft","borderRadius","borderWidth","borderColor","borderStyle","borderTopWidth","borderTopColor","borderTopStyle","borderRightWidth","borderRightColor","borderRightStyle","borderBottomWidth","borderBottomColor","borderBottomStyle","borderLeftWidth","borderLeftColor","borderLeftStyle","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","outline","outlineOffset","boxShadow"],b={".Label":[...f,...y],".Text":[...f,...y],".Input":[...f,...y,...g],".Error":[...f,...y,...g],".Tab":[...f,...y,...g],".TabIcon":[...f],".TabLabel":[...f,...y],".Block":[...f.slice(1),...g.slice(1)],".Container":[...g],".Header":[...f,...g,...y],".Footer":[...f,...g,...y]},v={".Label":b[".Label"],".Label--floating":[...b[".Label"],"transform"],".Input":[...b[".Input"],"outlineColor","outlineWidth","outlineStyle"],".Error":b[".Error"],".Tab":["backgroundColor","color","fontFamily"],".Tab--selected":["outlineColor","outlineWidth","outlineStyle","backgroundColor","color",g],".TabIcon":b[".TabIcon"],".TabIcon--selected":["color"],".TabLabel":b[".TabLabel"],".Block":b[".Block"],".Container":b[".Container"],".Header":b[".Header"],".Footer":b[".Footer"],".Footer--link":b[".Text"],".Text":b[".Text"],".Text--redirect":b[".Text"]};function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var _=/^\s+/,k=/\s+$/;function C(e,t){if(t=t||{},(e=e||"")instanceof C)return e;if(!(this instanceof C))return new C(e,t);var n=function(e){var t,n,o,r={r:0,g:0,b:0},a=1,i=null,s=null,c=null,l=!1,u=!1;return"string"==typeof e&&(e=function(e){e=e.replace(_,"").replace(k,"").toLowerCase();var t,n=!1;if(H[e])e=H[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=K.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=K.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=K.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=K.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=K.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=K.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=K.hex8.exec(e))?{r:z(t[1]),g:z(t[2]),b:z(t[3]),a:U(t[4]),format:n?"name":"hex8"}:(t=K.hex6.exec(e))?{r:z(t[1]),g:z(t[2]),b:z(t[3]),format:n?"name":"hex"}:(t=K.hex4.exec(e))?{r:z(t[1]+""+t[1]),g:z(t[2]+""+t[2]),b:z(t[3]+""+t[3]),a:U(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=K.hex3.exec(e))&&{r:z(t[1]+""+t[1]),g:z(t[2]+""+t[2]),b:z(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==w(e)&&(ee(e.r)&&ee(e.g)&&ee(e.b)?(t=e.r,n=e.g,o=e.b,r={r:255*q(t,255),g:255*q(n,255),b:255*q(o,255)},l=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):ee(e.h)&&ee(e.s)&&ee(e.v)?(i=Y(e.s),s=Y(e.v),r=function(e,t,n){e=6*q(e,360),t=q(t,100),n=q(n,100);var o=Math.floor(e),r=e-o,a=n*(1-t),i=n*(1-r*t),s=n*(1-(1-r)*t),c=o%6;return{r:255*[n,i,a,a,s,n][c],g:255*[s,n,n,i,a,a][c],b:255*[a,a,s,n,n,i][c]}}(e.h,i,s),l=!0,u="hsv"):ee(e.h)&&ee(e.s)&&ee(e.l)&&(i=Y(e.s),c=Y(e.l),r=function(e,t,n){var o,r,a;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=q(e,360),t=q(t,100),n=q(n,100),0===t)o=r=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;o=i(c,s,e+1/3),r=i(c,s,e),a=i(c,s,e-1/3)}return{r:255*o,g:255*r,b:255*a}}(e.h,i,c),l=!0,u="hsl"),e.hasOwnProperty("a")&&(a=e.a)),a=B(a),{ok:l,format:e.format||u,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function x(e,t,n){e=q(e,255),t=q(t,255),n=q(n,255);var o,r,a=Math.max(e,t,n),i=Math.min(e,t,n),s=(a+i)/2;if(a==i)o=r=0;else{var c=a-i;switch(r=s>.5?c/(2-a-i):c/(a+i),a){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:r,l:s}}function S(e,t,n){e=q(e,255),t=q(t,255),n=q(n,255);var o,r,a=Math.max(e,t,n),i=Math.min(e,t,n),s=a,c=a-i;if(r=0===a?0:c/a,a==i)o=0;else{switch(a){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:r,v:s}}function P(e,t,n,o){var r=[X(Math.round(e).toString(16)),X(Math.round(t).toString(16)),X(Math.round(n).toString(16))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function E(e,t,n,o){return[X(G(o)),X(Math.round(e).toString(16)),X(Math.round(t).toString(16)),X(Math.round(n).toString(16))].join("")}function M(e,t){t=0===t?0:t||10;var n=C(e).toHsl();return n.s-=t/100,n.s=Z(n.s),C(n)}function F(e,t){t=0===t?0:t||10;var n=C(e).toHsl();return n.s+=t/100,n.s=Z(n.s),C(n)}function L(e){return C(e).desaturate(100)}function j(e,t){t=0===t?0:t||10;var n=C(e).toHsl();return n.l+=t/100,n.l=Z(n.l),C(n)}function T(e,t){t=0===t?0:t||10;var n=C(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),C(n)}function R(e,t){t=0===t?0:t||10;var n=C(e).toHsl();return n.l-=t/100,n.l=Z(n.l),C(n)}function A(e,t){var n=C(e).toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,C(n)}function I(e){var t=C(e).toHsl();return t.h=(t.h+180)%360,C(t)}function W(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=C(e).toHsl(),o=[C(e)],r=360/t,a=1;a<t;a++)o.push(C({h:(n.h+a*r)%360,s:n.s,l:n.l}));return o}function N(e){var t=C(e).toHsl(),n=t.h;return[C(e),C({h:(n+72)%360,s:t.s,l:t.l}),C({h:(n+216)%360,s:t.s,l:t.l})]}function D(e,t,n){t=t||6,n=n||30;var o=C(e).toHsl(),r=360/n,a=[C(e)];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,a.push(C(o));return a}function O(e,t){t=t||6;for(var n=C(e).toHsv(),o=n.h,r=n.s,a=n.v,i=[],s=1/t;t--;)i.push(C({h:o,s:r,v:a})),a=(a+s)%1;return i}C.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,o=this.toRgb();return e=o.r/255,t=o.g/255,n=o.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=B(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=S(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=S(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=x(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=x(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return P(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,o,r){var a=[X(Math.round(e).toString(16)),X(Math.round(t).toString(16)),X(Math.round(n).toString(16)),X(G(o))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*q(this._r,255))+"%",g:Math.round(100*q(this._g,255))+"%",b:Math.round(100*q(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*q(this._r,255))+"%, "+Math.round(100*q(this._g,255))+"%, "+Math.round(100*q(this._b,255))+"%)":"rgba("+Math.round(100*q(this._r,255))+"%, "+Math.round(100*q(this._g,255))+"%, "+Math.round(100*q(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(V[P(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+E(this._r,this._g,this._b,this._a),n=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var r=C(e);n="#"+E(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,o=this._a<1&&this._a>=0;return t||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return C(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(j,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(R,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(F,arguments)},greyscale:function(){return this._applyModification(L,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(I,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(N,arguments)},triad:function(){return this._applyCombination(W,[3])},tetrad:function(){return this._applyCombination(W,[4])}},C.fromRatio=function(e,t){if("object"==w(e)){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]="a"===o?e[o]:Y(e[o]));e=n}return C(e,t)},C.equals=function(e,t){return!(!e||!t)&&C(e).toRgbString()==C(t).toRgbString()},C.random=function(){return C.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},C.mix=function(e,t,n){n=0===n?0:n||50;var o=C(e).toRgb(),r=C(t).toRgb(),a=n/100;return C({r:(r.r-o.r)*a+o.r,g:(r.g-o.g)*a+o.g,b:(r.b-o.b)*a+o.b,a:(r.a-o.a)*a+o.a})},C.readability=function(e,t){var n=C(e),o=C(t);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)},C.isReadable=function(e,t,n){var o,r,a,i,s,c=C.readability(e,t);switch(r=!1,(a=n,"AA"!==(i=((a=a||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==i&&(i="AA"),"small"!==(s=(a.size||"small").toLowerCase())&&"large"!==s&&(s="small"),o={level:i,size:s}).level+o.size){case"AAsmall":case"AAAlarge":r=c>=4.5;break;case"AAlarge":r=c>=3;break;case"AAAsmall":r=c>=7}return r},C.mostReadable=function(e,t,n){var o,r,a,i,s=null,c=0;r=(n=n||{}).includeFallbackColors,a=n.level,i=n.size;for(var l=0;l<t.length;l++)(o=C.readability(e,t[l]))>c&&(c=o,s=C(t[l]));return C.isReadable(e,s,{level:a,size:i})||!r?s:(n.includeFallbackColors=!1,C.mostReadable(e,["#fff","#000"],n))};var H=C.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=C.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(H);function B(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function q(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Z(e){return Math.min(1,Math.max(0,e))}function z(e){return parseInt(e,16)}function X(e){return 1==e.length?"0"+e:""+e}function Y(e){return e<=1&&(e=100*e+"%"),e}function G(e){return Math.round(255*parseFloat(e)).toString(16)}function U(e){return z(e)/255}var $,J,Q,K=(J="[\\s|\\(]+("+($="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+$+")[,|\\s]+("+$+")\\s*\\)?",Q="[\\s|\\(]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")\\s*\\)?",{CSS_UNIT:new RegExp($),rgb:new RegExp("rgb"+J),rgba:new RegExp("rgba"+Q),hsl:new RegExp("hsl"+J),hsla:new RegExp("hsla"+Q),hsv:new RegExp("hsv"+J),hsva:new RegExp("hsva"+Q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ee(e){return!!K.CSS_UNIT.exec(e)}const te=e=>{const t=e.match(/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0?(\.\d+)?|1?(\.0+)?)\s*\)$/);if(t){const n=t[4]||1;e=`rgb(${t.slice(1,4).map((e=>Math.round(e*n+255*(1-n)))).join(", ")})`}return e},ne={default:{hiddenContainer:"#wcpay-hidden-div",hiddenInput:"#wcpay-hidden-input",hiddenInvalidInput:"#wcpay-hidden-invalid-input",hiddenValidActiveLabel:"#wcpay-hidden-valid-active-label"},classicCheckout:{appendTarget:".woocommerce-billing-fields__field-wrapper",upeThemeInputSelector:"#billing_first_name",upeThemeLabelSelector:".woocommerce-checkout .form-row label",upeThemeTextSelectors:["#payment .payment_methods li .payment_box fieldset",".woocommerce-checkout .form-row"],rowElement:"p",validClasses:["form-row"],invalidClasses:["form-row","woocommerce-invalid","woocommerce-invalid-required-field"],backgroundSelectors:["li.wc_payment_method .wc-payment-form","li.wc_payment_method .payment_box","#payment","#order_review","form.checkout","body"],headingSelectors:["h1","h2","h3","h4","h5","h6"],buttonSelectors:["#place_order"],linkSelectors:["a"],pmmeRelativeTextSizeSelector:".wc_payment_method > label"},blocksCheckout:{appendTarget:".wc-block-checkout__contact-fields",upeThemeInputSelector:".wc-block-components-text-input #email",upeThemeLabelSelector:".wc-block-components-text-input label",upeThemeTextSelectors:[".wc-block-components-checkout-step__description",".wc-block-components-text-input"],rowElement:"div",validClasses:["wc-block-components-text-input","is-active"],invalidClasses:["wc-block-components-text-input","has-error"],alternateSelectors:{appendTarget:"#billing.wc-block-components-address-form",upeThemeInputSelector:"#billing-first_name",upeThemeLabelSelector:".wc-block-components-checkout-step__description"},backgroundSelectors:["#payment-method .wc-block-components-radio-control-accordion-option","#payment-method","form.wc-block-checkout__form",".wc-block-checkout","body"],headingSelectors:["h1","h2","h3","h4","h5","h6"],buttonSelectors:[".wc-block-components-checkout-place-order-button"],linkSelectors:["a"],containerSelectors:[".wp-block-woocommerce-checkout-order-summary-block"],pmmeRelativeTextSizeSelector:".wc-block-components-radio-control__label-group"},bnplProductPage:{appendTarget:".product .cart .quantity",upeThemeInputSelector:".product .cart .quantity .qty",upeThemeLabelSelector:".product .cart .quantity label",upeThemeTextSelectors:[".product .cart .quantity"],rowElement:"div",validClasses:["input-text"],invalidClasses:["input-text","has-error"],backgroundSelectors:["#payment-method-message","#main > .product > div.summary.entry-summary","#main > .product","#main","body"],headingSelectors:["h1","h2","h3","h4","h5","h6"],buttonSelectors:[".single_add_to_cart_button"],linkSelectors:["a"]},bnplClassicCart:{appendTarget:".cart .quantity",upeThemeInputSelector:".cart .quantity .qty",upeThemeLabelSelector:".cart .quantity label",upeThemeTextSelectors:[".cart .quantity"],rowElement:"div",validClasses:["input-text"],invalidClasses:["input-text","has-error"],backgroundSelectors:["#payment-method-message","#main .entry-content .cart_totals","#main .entry-content","#main","body"],headingSelectors:["h1","h2","h3","h4","h5","h6"],buttonSelectors:[".checkout-button"],linkSelectors:["a"],containerSelectors:[".shop_table"]},bnplCartBlock:{appendTarget:".wc-block-cart .wc-block-components-quantity-selector",upeThemeInputSelector:".wc-block-cart .wc-block-components-quantity-selector .wc-block-components-quantity-selector__input",upeThemeLabelSelector:".wc-block-components-text-input",upeThemeTextSelectors:[".wc-block-components-text-input"],rowElement:"div",validClasses:["wc-block-components-text-input"],invalidClasses:["wc-block-components-text-input","has-error"],backgroundSelectors:[".wc-block-components-bnpl-wrapper",".wc-block-components-order-meta",".wc-block-components-totals-wrapper",".wp-block-woocommerce-cart-order-summary-block",".wp-block-woocommerce-cart-totals-block",".wp-block-woocommerce-cart .wc-block-cart",".wp-block-woocommerce-cart","body"],headingSelectors:["h1","h2","h3","h4","h5","h6"],buttonSelectors:[".wc-block-cart__submit-button"],linkSelectors:["a"],containerSelectors:[".wp-block-woocommerce-cart-line-items-block"]},wooPayClassicCheckout:{appendTarget:".woocommerce-billing-fields__field-wrapper",upeThemeInputSelector:"#billing_first_name",upeThemeLabelSelector:".woocommerce-checkout .form-row label",upeThemeTextSelectors:[".woocommerce-checkout .form-row"],rowElement:"p",validClasses:["form-row"],invalidClasses:["form-row","woocommerce-invalid","woocommerce-invalid-required-field"],backgroundSelectors:["#customer_details","#order_review","form.checkout","body"],headingSelectors:["h1","h2","h3","h4","h5","h6"],buttonSelectors:["#place_order"],linkSelectors:["a"],containerSelectors:[".woocommerce-checkout-review-order-table"],headerSelectors:[".site-header","header > div"],footerSelectors:[".site-footer","footer > div"],footerLink:[".site-footer a","footer a"]},updateSelectors:function(e,t){return e.hasOwnProperty("alternateSelectors")&&(Object.entries(e.alternateSelectors).forEach((n=>{const[o,r]=n;t.querySelector(e[o])||(e[o]=r)})),delete e.alternateSelectors),e},getSelectors:function(e,t){let n=this.blocksCheckout;switch(e){case"blocks_checkout":n=this.blocksCheckout;break;case"shortcode_checkout":n=this.classicCheckout;break;case"bnpl_product_page":n=this.bnplProductPage;break;case"bnpl_classic_cart":n=this.bnplClassicCart;break;case"bnpl_cart_block":n=this.bnplCartBlock;break;case"woopay_shortcode_checkout":n=this.wooPayClassicCheckout}return{...this.default,...this.updateSelectors(n,t)}}},oe={getHiddenContainer:function(e,t){const n=t.createElement("div");return n.setAttribute("id",this.getIDFromSelector(e)),n.style.border=0,n.style.clip="rect(0 0 0 0)",n.style.height="1px",n.style.margin="-1px",n.style.overflow="hidden",n.style.padding="0",n.style.position="absolute",n.style.width="1px",n},createRow:function(e,t=[],n){const o=n.createElement(e);return t.length&&o.classList.add(...t),o},appendClone:function(e,t,n,o){const r=o.querySelector(t);if(r){const t=r.cloneNode(!0);t.id=this.getIDFromSelector(n),t.value="",e.appendChild(t)}},getIDFromSelector:function(e){return e.startsWith("#")||e.startsWith(".")?e.slice(1):e},init:function(e,t){const n=ne.getSelectors(e),o=t.querySelector(n.appendTarget),r=t.querySelector(n.upeThemeInputSelector);if(!o||!r)return;t.querySelector(n.hiddenContainer)&&this.cleanup(t);const a=this.getHiddenContainer(n.hiddenContainer,t);o.appendChild(a);const i=this.createRow(n.rowElement,n.validClasses,t);a.appendChild(i);const s=this.createRow(n.rowElement,n.invalidClasses,t);a.appendChild(s),this.appendClone(i,n.upeThemeInputSelector,n.hiddenInput,t),this.appendClone(i,n.upeThemeLabelSelector,n.hiddenValidActiveLabel,t),this.appendClone(s,n.upeThemeInputSelector,n.hiddenInvalidInput,t),this.appendClone(s,n.upeThemeLabelSelector,n.hiddenInvalidInput,t),t.querySelector(n.hiddenInput).style.transition="none"},cleanup:function(e){const t=e.querySelector(ne.default.hiddenContainer);t&&t.remove()}},re=(e,t,n=null,o)=>{if(!o.querySelector(e))return{};const r=o.defaultView||window,a=v[t],i=o.querySelector(e),s=r.getComputedStyle(i),c={};for(let e=0;e<s.length;e++){const t=s[e].replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}));if(a.includes(t)){let n=s.getPropertyValue(s[e]);"color"===t&&(n=te(n)),c[t]=n}}if(".Input"===t||".Tab--selected"===t){const e=((e,t="solid",n)=>e&&n?[e,t,n].join(" "):"")(c.outlineWidth,c.outlineStyle,c.outlineColor);""!==e&&(c.outline=e),delete c.outlineWidth,delete c.outlineColor,delete c.outlineStyle}const l=s.getPropertyValue("text-indent");return"0px"!==l&&"0px"===c.paddingLeft&&"0px"===c.paddingRight&&(c.paddingLeft=l,c.paddingRight=l),".Block"===t&&(c.backgroundColor=n),c},ae=(e=document)=>{const t=[],n=e.styleSheets,o=["fonts.googleapis.com","fonts.gstatic.com","fast.fonts.com","use.typekit.net"];for(let e=0;e<n.length;e++){if(!n[e].href)continue;const r=new URL(n[e].href);-1!==o.indexOf(r.hostname)&&t.push({cssSrc:n[e].href})}return t},ie=(e,t=!1,n=document)=>{const o=ne.getSelectors(e,n);oe.init(e,n);const r=re(o.hiddenInput,".Input",null,n),a=re(o.hiddenInvalidInput,".Input",null,n),i=re(o.upeThemeLabelSelector,".Label",null,n),s={fontSize:i.fontSize},c=re(o.upeThemeTextSelectors,".Text",null,n),l=re(o.upeThemeInputSelector,".Tab",null,n),u=re(o.hiddenInput,".Tab--selected",null,n),d=(e=>{const t=Object.assign({},e);if(!e.backgroundColor||!e.color)return e;const n=((e,t)=>{const n={backgroundColor:e,color:t},o=C(e),r=C(t);if(!o.isValid()||!r.isValid())return{backgroundColor:"",color:""};const a=o.getBrightness()>50?C(o).darken(7):C(o).lighten(7),i=C.mostReadable(a,[r],{includeFallbackColors:!0});return n.backgroundColor=a.toRgbString(),n.color=i.toRgbString(),n})(e.backgroundColor,e.color);return t.backgroundColor=n.backgroundColor,t.color=n.color,t})(l),p={color:d.color},m={color:u.color},h=((e,t=document)=>{let n=null,o=0;for(;!n&&o<e.length;){const r=t.querySelector(e[o]);if(!r){o++;continue}const a=(t.defaultView||window).getComputedStyle(r).backgroundColor;a&&C(a).getAlpha()>0&&(n=a),o++}return n||"#ffffff"})(o.backgroundSelectors,n),f=re(o.headingSelectors,".Label",null,n),y=re(o.upeThemeLabelSelector,".Block",h,n),g=re(o.buttonSelectors,".Input",null,n),b=re(o.linkSelectors,".Label",null,n),v=re(o.containerSelectors,".Container",null,n),w=re(o.headerSelectors,".Header",null,n),_=re(o.footerSelectors,".Footer",null,n),k=re(o.footerLink,".Footer--link",null,n),x={colorBackground:h,colorText:c.color,fontFamily:c.fontFamily,fontSizeBase:c.fontSize};o.pmmeRelativeTextSizeSelector&&x.fontSizeBase&&(x.fontSizeBase=function(e,t,n=.875,o){const r=parseFloat(t);if(isNaN(r))return t;const a=o.querySelector(e);if(!a)return r*n+"px";const i=window.getComputedStyle(a).getPropertyValue("font-size"),s=parseFloat(i)*n;return isNaN(s)?t:r>s?`${s}px`:`${r}px`}(o.pmmeRelativeTextSizeSelector,c.fontSize,.875,n));const S="blocks_checkout"===e;let P={variables:x,theme:(E=h,C(E).getBrightness()>125?"stripe":"night"),labels:S?"floating":"above",rules:JSON.parse(JSON.stringify({".Input":r,".Input--invalid":a,".Label":i,".Label--resting":s,".Block":y,".Tab":l,".Tab:hover":d,".Tab--selected":u,".TabIcon:hover":p,".TabIcon--selected":m,".Text":c,".Text--redirect":c}))};var E;return S&&(P=((e,t)=>{if(e.rules[".Label--floating"]=t,e.rules[".Label--floating"].transform&&"none"!==e.rules[".Label--floating"].transform){const t=e.rules[".Label--floating"].transform.match(/matrix\((.+)\)/);if(t&&t[1]){const n=t[1].split(", "),o=(parseFloat(n[0])+parseFloat(n[3]))/2,r=parseFloat(e.rules[".Label--floating"].lineHeight),a=Math.floor(r*o);e.rules[".Label--floating"].lineHeight=`${a}px`,e.rules[".Label--floating"].fontSize=`${a}px`}delete e.rules[".Label--floating"].transform}if(e.rules[".Input"].paddingTop&&(e.rules[".Input"].paddingTop=`calc(${e.rules[".Input"].paddingTop} - ${e.rules[".Label--floating"].lineHeight} - 4px - 1px)`),e.rules[".Input"].paddingBottom){var n;const t=parseFloat(e.rules[".Input"].paddingBottom);e.rules[".Input"].paddingBottom=t-1+"px";const o=null!==(n=e.rules[".Label"].marginTop)&&void 0!==n?n:"0";e.rules[".Label"].marginTop=`${Math.floor((t-1)/3)}px`,e.rules[".Label--floating"].marginTop=o}return e})(P,re(o.hiddenValidActiveLabel,".Label--floating",null,n))),t&&(P.rules={...P.rules,".Heading":f,".Header":w,".Footer":_,".Footer-link":k,".Button":g,".Link":b,".Container":v}),oe.cleanup(n),P},se=()=>document.querySelector(".wp-block-woocommerce-checkout")?"blocks_checkout":document.querySelector(".woocommerce-billing-fields")?"woopay_shortcode_checkout":document.querySelector(".wp-block-woocommerce-cart")?"bnpl_cart_block":document.querySelector(".woocommerce-cart-form")?"bnpl_classic_cart":document.querySelector(".single-product")?"bnpl_product_page":void 0;class ce{constructor(e,t){this.options=e,this.stripe=null,this.stripePlatform=null,this.request=t,this.isWooPayRequesting=!1}createStripe(e,t,n="",o=[]){const r={locale:t};return n&&(r.stripeAccount=n),o&&(r.betas=o),new Stripe(e,r)}async getStripeForUPE(e){return this.options.forceNetworkSavedCards=o("paymentMethodsConfig")[e].forceNetworkSavedCards,this.getStripe()}async getStripe(e=!1){let t=0;for(;!window.Stripe;)if(await new Promise((e=>setTimeout(e,100))),t+=100,t>6e5)throw new Error("Stripe object not found");return this.__getStripe(e)}__getStripe(e=!1){const{publishableKey:t,accountId:n,forceNetworkSavedCards:o,locale:r,isStripeLinkEnabled:a}=this.options;if(o&&!e)return this.stripePlatform||(this.stripePlatform=this.createStripe(t,r)),this.stripePlatform;if(!this.stripe){let e=["card_country_event_beta_1"];a&&(e=e.concat(["link_autofill_modal_beta_1"])),this.stripe=this.createStripe(t,r,n,e)}return this.stripe}async loadStripeForExpressCheckout(){try{return this.getStripe(!0)}catch(e){return{error:e}}}confirmIntent(e,n=!1){const o=e.match(/#wcpay-confirm-(pi|si):(.+):(.+):(.+)$/);if(!o)return!0;const r="si"===o[1];let a=o[2];const i=o[3],s=o[4],c=e.indexOf("order-pay"),l=c>-1&&e.substring(c).match(/\d+/);return l&&(a=l[0]),(async()=>{const{locale:e,publishableKey:n}=this.options,o=t("accountIdForIntentConfirmation"),a=await this.getStripe();return r?a.handleNextAction({clientSecret:i}):o?this.createStripe(n,e,o).confirmCardPayment(i):(await this.getStripe(!0)).handleNextAction({clientSecret:i})})().then((e=>{var o;let r=null;e.paymentIntent?.last_payment_error&&(r={message:e.paymentIntent.last_payment_error.message}),"requires_action"===e.paymentIntent?.status&&(r={message:"Payment requires additional action."});const i=e.paymentIntent&&e.paymentIntent.id||e.setupIntent&&e.setupIntent.id||e.error&&e.error.payment_intent&&e.error.payment_intent.id||e.error.setup_intent&&e.error.setup_intent.id,c=null!==(o=d("ajax_url"))&&void 0!==o?o:t("ajaxUrl"),l=t("isChangingPayment");return[this.request(c,{action:"update_order_status",order_id:a,_ajax_nonce:s,intent_id:i,should_save_payment_method:n?"true":"false",is_changing_payment:l?"true":"false"}),r,e.error]})).then((([e,t,n])=>{if(n)throw n;return e.then((e=>{const n="string"==typeof e?JSON.parse(e):e;if(n.error)throw n.error;if(t)throw t;return n.return_url}))}))}async setupIntent(e){const n=await this.request(t("ajaxUrl"),{action:"create_setup_intent","wcpay-payment-method":e,_ajax_nonce:t("createSetupIntentNonce")});if(!n.success)throw n.data.error;if("succeeded"===n.data.status)return n.data;const o=await this.getStripe(),r=await o.confirmCardSetup(n.data.client_secret),{setupIntent:a,error:i}=r;if(i)throw i;return a}saveUPEAppearance(e,n){return this.request(t("ajaxUrl"),{elements_location:n,appearance:JSON.stringify(e),action:"save_upe_appearance",_ajax_nonce:t("saveUPEAppearanceNonce")}).then((e=>e.data)).catch((e=>{throw e.message?e:new Error(e.statusText)}))}expressCheckoutECEUpdateShippingDetails(e){return this.request(m("ece_update_shipping_method"),{security:d("nonce")?.update_shipping,shipping_method:[e.id],is_product_page:"product"===d("button_context")})}expressCheckoutECEGetCartDetails(){return this.request(m("ece_get_cart_details"),{security:d("nonce")?.get_cart_details})}expressCheckoutECEAddToCart(e){return this.request(m("add_to_cart"),{security:d("nonce")?.add_to_cart,...e})}expressCheckoutECEGetSelectedProductData(e){return this.request(m("ece_get_selected_product_data"),{security:d("nonce")?.get_selected_product_data,...e})}expressCheckoutECECalculateShippingOptions(e){return this.request(m("ece_get_shipping_options"),{security:d("nonce")?.shipping,is_product_page:"product"===d("button_context"),...e})}expressCheckoutECECreateOrder(e){return this.request(m("ece_create_order"),{_wpnonce:d("nonce")?.checkout,...e})}expressCheckoutECEPayForOrder(e,t){return this.request(m("ece_pay_for_order"),{_wpnonce:d("nonce")?.pay_for_order,order:e,...t})}initWooPay(e,n){if(!this.isWooPayRequesting){this.isWooPayRequesting=!0;const o=t("wcAjaxUrl"),r=t("initWooPayNonce"),a=se();return this.request(h(o,"init_woopay"),{_wpnonce:r,appearance:t("isWooPayGlobalThemeSupportEnabled")?ie(a,!0):null,email:e,user_session:n,order_id:t("order_id"),key:t("key"),billing_email:t("billing_email")}).finally((()=>{this.isWooPayRequesting=!1}))}}expressCheckoutAddToCart(e){const n=t("wcAjaxUrl"),o=t("addToCartNonce");return this.request(h(n,"add_to_cart"),{security:o,...e})}pmmeGetCartData(){return fetch(`${o("storeApiURL")}/cart`,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}}var le=n(1609),ue=n.n(le);const de=window.wp.element,pe=window.wp.i18n;var me=function(){return me=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},me.apply(this,arguments)};function he(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((o=o.apply(e,t||[])).next())}))}function fe(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function ye(e,t,n){if(n||2===arguments.length)for(var o,r=0,a=t.length;r<a;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var ge="3.4.1";function be(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function ve(e){return!!e&&"function"==typeof e.then}function we(e,t){try{var n=e();ve(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function _e(e,t,n){return void 0===n&&(n=16),he(this,void 0,void 0,(function(){var o,r,a;return fe(this,(function(i){switch(i.label){case 0:o=Date.now(),r=0,i.label=1;case 1:return r<e.length?(t(e[r],r),(a=Date.now())>=o+n?(o=a,[4,be(0)]):[3,3]):[3,4];case 2:i.sent(),i.label=3;case 3:return++r,[3,1];case 4:return[2]}}))}))}function ke(e){e.then(void 0,(function(){}))}function Ce(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function xe(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Se(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function Pe(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function Ee(e,t){return[e[0]^t[0],e[1]^t[1]]}function Me(e){return e=Ee(e,[0,e[0]>>>1]),e=Ee(e=xe(e,[4283543511,3981806797]),[0,e[0]>>>1]),Ee(e=xe(e,[3301882366,444984403]),[0,e[0]>>>1])}function Fe(e){return parseInt(e)}function Le(e){return parseFloat(e)}function je(e,t){return"number"==typeof e&&isNaN(e)?t:e}function Te(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function Re(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function Ae(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function Ie(e,t,n){var o=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,o=e.length;n<o;++n)if(e[n]===t)return!0;return!1}(n,e)})),r=Array(o.length);return _e(o,(function(n,o){r[o]=function(e,t){var n=new Promise((function(n){var o=Date.now();we(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Date.now()-o;if(!e[0])return n((function(){return{error:Ae(e[1]),duration:r}}));var a=e[1];if(function(e){return"function"!=typeof e}(a))return n((function(){return{value:a,duration:r}}));n((function(){return new Promise((function(e){var t=Date.now();we(a,(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=r+Date.now()-t;if(!n[0])return e({error:Ae(n[1]),duration:a});e({value:n[1],duration:a})}))}))}))}))}));return ke(n),function(){return n.then((function(e){return e()}))}}(e[n],t)})),function(){return he(this,void 0,void 0,(function(){var e,t,n,a,i,s;return fe(this,(function(c){switch(c.label){case 0:for(e={},t=0,n=o;t<n.length;t++)a=n[t],e[a]=void 0;i=Array(o.length),s=function(){var t;return fe(this,(function(n){switch(n.label){case 0:return t=!0,[4,_e(o,(function(n,o){if(!i[o])if(r[o]){var a=r[o]().then((function(t){return e[n]=t}));ke(a),i[o]=a}else t=!1}))];case 1:return n.sent(),t?[2,"break"]:[4,be(1)];case 2:return n.sent(),[2]}}))},c.label=1;case 1:return[5,s()];case 2:if("break"===c.sent())return[3,4];c.label=3;case 3:return[3,1];case 4:return[4,Promise.all(i)];case 5:return c.sent(),[2,e]}}))}))}}function We(){var e=window,t=navigator;return Te(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function Ne(){var e=window,t=navigator;return Te(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function De(){var e=window,t=navigator;return Te(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function Oe(){var e=window;return Te(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function He(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function Ve(){var e=Ne(),t=function(){var e,t,n=window;return Te(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return Te(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function Be(e){var t=new Error(e);return t.name=e,t}function qe(e,t,n){var o,r,a;return void 0===n&&(n=50),he(this,void 0,void 0,(function(){var i,s;return fe(this,(function(c){switch(c.label){case 0:i=document,c.label=1;case 1:return i.body?[3,3]:[4,be(n)];case 2:return c.sent(),[3,1];case 3:s=i.createElement("iframe"),c.label=4;case 4:return c.trys.push([4,,10,11]),[4,new Promise((function(e,n){var o=!1,r=function(){o=!0,e()};s.onload=r,s.onerror=function(e){o=!0,n(e)};var a=s.style;a.setProperty("display","block","important"),a.position="absolute",a.top="0",a.left="0",a.visibility="hidden",t&&"srcdoc"in s?s.srcdoc=t:s.src="about:blank",i.body.appendChild(s);var c=function(){var e,t;o||("complete"===(null===(t=null===(e=s.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?r():setTimeout(c,10))};c()}))];case 5:c.sent(),c.label=6;case 6:return(null===(r=null===(o=s.contentWindow)||void 0===o?void 0:o.document)||void 0===r?void 0:r.body)?[3,8]:[4,be(n)];case 7:return c.sent(),[3,6];case 8:return[4,e(s,s.contentWindow)];case 9:return[2,c.sent()];case 10:return null===(a=s.parentNode)||void 0===a||a.removeChild(s),[7];case 11:return[2]}}))}))}function Ze(e){for(var t=function(e){for(var t,n,o="Unexpected syntax '".concat(e,"'"),r=/^\s*([a-z-]*)(.*)$/i.exec(e),a=r[1]||void 0,i={},s=/([.:#][\w-]+|\[.+?\])/gi,c=function(e,t){i[e]=i[e]||[],i[e].push(t)};;){var l=s.exec(r[2]);if(!l)break;var u=l[0];switch(u[0]){case".":c("class",u.slice(1));break;case"#":c("id",u.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(u);if(!d)throw new Error(o);c(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(o)}}return[a,i]}(e),n=t[0],o=t[1],r=document.createElement(null!=n?n:"div"),a=0,i=Object.keys(o);a<i.length;a++){var s=i[a],c=o[s].join(" ");"style"===s?ze(r.style,c):r.setAttribute(s,c)}return r}function ze(e,t){for(var n=0,o=t.split(";");n<o.length;n++){var r=o[n],a=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(r);if(a){var i=a[1],s=a[2],c=a[4];e.setProperty(i,s,c||"")}}}var Xe=["monospace","sans-serif","serif"],Ye=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function Ge(e){return e.toDataURL()}var Ue,$e;function Je(){var e=screen;return[je(Le(e.availTop),null),je(Le(e.width)-Le(e.availWidth)-je(Le(e.availLeft),0),null),je(Le(e.height)-Le(e.availHeight)-je(Le(e.availTop),0),null),je(Le(e.availLeft),null)]}function Qe(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function Ke(e){var t;return he(this,void 0,void 0,(function(){var n,o,r,a,i,s,c;return fe(this,(function(l){switch(l.label){case 0:for(n=document,o=n.createElement("div"),r=new Array(e.length),a={},et(o),c=0;c<e.length;++c)i=Ze(e[c]),et(s=n.createElement("div")),s.appendChild(i),o.appendChild(s),r[c]=i;l.label=1;case 1:return n.body?[3,3]:[4,be(50)];case 2:return l.sent(),[3,1];case 3:n.body.appendChild(o);try{for(c=0;c<e.length;++c)r[c].offsetParent||(a[e[c]]=!0)}finally{null===(t=o.parentNode)||void 0===t||t.removeChild(o)}return[2,a]}}))}))}function et(e){e.style.setProperty("display","block","important")}function tt(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function nt(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function ot(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function rt(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function at(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var it=Math,st=function(){return 0},ct={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},lt={fonts:function(){return qe((function(e,t){var n=t.document,o=n.body;o.style.fontSize="48px";var r=n.createElement("div"),a={},i={},s=function(e){var t=n.createElement("span"),o=t.style;return o.position="absolute",o.top="0",o.left="0",o.fontFamily=e,t.textContent="mmMwWLliI0O&1",r.appendChild(t),t},c=Xe.map(s),l=function(){for(var e={},t=function(t){e[t]=Xe.map((function(e){return function(e,t){return s("'".concat(e,"',").concat(t))}(t,e)}))},n=0,o=Ye;n<o.length;n++)t(o[n]);return e}();o.appendChild(r);for(var u=0;u<Xe.length;u++)a[Xe[u]]=c[u].offsetWidth,i[Xe[u]]=c[u].offsetHeight;return Ye.filter((function(e){return t=l[e],Xe.some((function(e,n){return t[n].offsetWidth!==a[e]||t[n].offsetHeight!==i[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return he(this,void 0,void 0,(function(){var e,n,o,r,a;return fe(this,(function(i){switch(i.label){case 0:return De()||Ve()?(s=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",s("YVt0aXRsZT0iN25hZ2EgcG9rZXIiIGld"),'[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",s("Lmlvc0Fkc2lvc0Fkcy1sYXlvdXQ="),".quangcao",s("W2hyZWZePSJodHRwczovL3I4OC52bi8iXQ=="),s("W2hyZWZePSJodHRwczovL3piZXQudm4vIl0=")],adBlockFinland:[".mainostila",s("LnNwb25zb3JpdA=="),".ylamainos",s("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",s("I2FkMl9pbmxpbmU=")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",s("LmhlYWRlci1ibG9ja2VkLWFk"),s("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay",s("I2FkXzMwMFgyNTA="),s("I2Jhbm5lcmZsb2F0MjI="),s("I2FkLWJhbm5lcg=="),s("I2NhbXBhaWduLWJhbm5lcg==")],adGuardChinese:[s("LlppX2FkX2FfSA=="),s("YVtocmVmKj0iL29kMDA1LmNvbSJd"),s("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),".qq_nr_lad","#widget-quan"],adGuardFrench:[s("I2Jsb2NrLXZpZXdzLWFkcy1zaWRlYmFyLWJsb2NrLWJsb2Nr"),"#pavePub",s("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv"],adGuardGerman:[s("LmJhbm5lcml0ZW13ZXJidW5nX2hlYWRfMQ=="),s("LmJveHN0YXJ0d2VyYnVuZw=="),s("LndlcmJ1bmcz"),s("YVtocmVmXj0iaHR0cDovL3d3dy5laXMuZGUvaW5kZXgucGh0bWw/cmVmaWQ9Il0="),s("YVtocmVmXj0iaHR0cHM6Ly93d3cudGlwaWNvLmNvbS8/YWZmaWxpYXRlSWQ9Il0=")],adGuardJapanese:["#kauli_yad_1",s("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),s("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),s("LmFkZ29vZ2xl"),s("LmFkX3JlZ3VsYXIz")],adGuardMobile:[s("YW1wLWF1dG8tYWRz"),s("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",s("I2FkX2ludmlld19hcmVh")],adGuardRussian:[s("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),s("LnJlY2xhbWE="),'div[id^="smi2adblock"]',s("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),s("I2FkX3NxdWFyZQ==")],adGuardSocial:[s("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),s("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",s("W2hyZWZePSJodHRwOi8vYWRzLmdsaXNwYS5jb20vIl0=")],adGuardTrackingProtection:["#qoo-counter",s("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),s("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),s("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",s("I3Jla2xhbWk="),s("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),s("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),s("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[s("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers",s("I25ld0Fk")],easyList:[s("I0FEX0NPTlRST0xfMjg="),s("LnNlY29uZC1wb3N0LWFkcy13cmFwcGVy"),".universalboxADVBOX03",s("LmFkdmVydGlzZW1lbnQtNzI4eDkw"),s("LnNxdWFyZV9hZHM=")],easyListChina:[s("YVtocmVmKj0iLndlbnNpeHVldGFuZy5jb20vIl0="),s("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),s("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers",s("I3Jla2xhbW5pLWJveA=="),s("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",s("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[s("I2FkdmVydGVudGll"),s("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",s("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:[s("I0FkX1dpbjJkYXk="),s("I3dlcmJ1bmdzYm94MzAw"),s("YVtocmVmXj0iaHR0cDovL3d3dy5yb3RsaWNodGthcnRlaS5jb20vP3NjPSJd"),s("I3dlcmJ1bmdfd2lkZXNreXNjcmFwZXJfc2NyZWVu"),s("YVtocmVmXj0iaHR0cDovL2xhbmRpbmcucGFya3BsYXR6a2FydGVpLmNvbS8/YWc9Il0=")],easyListItaly:[s("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",s("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[s("LnJla2xhbW9zX3RhcnBhcw=="),s("LnJla2xhbW9zX251b3JvZG9z"),s("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),s("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),s("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[s("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:[s("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),s("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",s("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[s("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),s("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),s("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",s("LmFkX19tYWlu"),s("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:[s("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[s("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),s("I2xpdmVyZUFkV3JhcHBlcg=="),s("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),s("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[s("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",s("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),s("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),s("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[s("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),s("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),s("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",s("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),s("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),s("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),s("ZGl2I3NrYXBpZWNfYWQ=")],ro:[s("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),'a[href^="/magazin/"]',s("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),s("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd")],ruAd:[s("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),s("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),s("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",s("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),s("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",s("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,Ke((a=[]).concat.apply(a,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return o=i.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",o=0,r=Object.keys(e);o<r.length;o++){var a=r[o];n+="\n".concat(a,":");for(var i=0,s=e[a];i<s.length;i++){var c=s[i];n+="\n  ".concat(t[c]?"🚫":"➡️"," ").concat(c)}}console.log("".concat(n,"\n```"))}(e,o),(r=n.filter((function(t){var n=e[t];return Te(n.map((function(e){return o[e]})))>.6*n.length}))).sort(),[2,r]}var s}))}))},fontPreferences:function(){return void 0===e&&(e=4e3),qe((function(t,n){var o=n.document,r=o.body,a=r.style;a.width="".concat(e,"px"),a.webkitTextSizeAdjust=a.textSizeAdjust="none",Ne()?r.style.zoom="".concat(1/n.devicePixelRatio):De()&&(r.style.zoom="reset");var i=o.createElement("div");return i.textContent=ye([],Array(e/20|0),!0).map((function(){return"word"})).join(" "),r.appendChild(i),function(e,t){for(var n={},o={},r=0,a=Object.keys(ct);r<a.length;r++){var i=a[r],s=ct[i],c=s[0],l=void 0===c?{}:c,u=s[1],d=void 0===u?"mmMwWLliI0fiflO&1":u,p=e.createElement("span");p.textContent=d,p.style.whiteSpace="nowrap";for(var m=0,h=Object.keys(l);m<h.length;m++){var f=h[m],y=l[f];void 0!==y&&(p.style[f]=y)}n[i]=p,t.appendChild(e.createElement("br")),t.appendChild(p)}for(var g=0,b=Object.keys(ct);g<b.length;g++)o[i=b[g]]=n[i].getBoundingClientRect().width;return o}(o,r)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');var e},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(De()&&!Oe()&&!function(){var e=window;return Te(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),o=n.createOscillator();o.type="triangle",o.frequency.value=1e4;var r=n.createDynamicsCompressor();r.threshold.value=-50,r.knee.value=40,r.ratio.value=12,r.attack.value=0,r.release.value=.25,o.connect(r),r.connect(n.destination),o.start(0);var a=function(e){var t=function(){};return[new Promise((function(n,o){var r=!1,a=0,i=0;e.oncomplete=function(e){return n(e.renderedBuffer)};var s=function(){setTimeout((function(){return o(Be("timeout"))}),Math.min(500,i+5e3-Date.now()))},c=function(){try{var t=e.startRendering();switch(ve(t)&&ke(t),e.state){case"running":i=Date.now(),r&&s();break;case"suspended":document.hidden||a++,r&&a>=3?o(Be("suspended")):setTimeout(c,500)}}catch(e){o(e)}};c(),t=function(){r||(r=!0,i>0&&s())}})),t]}(n),i=a[0],s=a[1],c=i.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return ke(c),function(){return s(),c}},screenFrame:function(){var e=this,t=function(){var e=this;return function(){if(void 0===$e){var e=function(){var t=Je();Qe(t)?$e=setTimeout(e,2500):(Ue=t,$e=void 0)};e()}}(),function(){return he(e,void 0,void 0,(function(){var e;return fe(this,(function(t){switch(t.label){case 0:return Qe(e=Je())?Ue?[2,ye([],Ue,!0)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,He()]:[3,2]:[3,2];case 1:t.sent(),e=Je(),t.label=2;case 2:return Qe(e)||(Ue=e),[2,e]}var n}))}))}}();return function(){return he(e,void 0,void 0,(function(){var e,n;return fe(this,(function(o){switch(o.label){case 0:return[4,t()];case 1:return e=o.sent(),[2,[(n=function(e){return null===e?null:Re(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],o=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==o&&n.push([o]),Array.isArray(t.languages))Ne()&&Te([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var r=t.languages;r&&n.push(r.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return je(Le(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return je(Fe(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return je(Fe(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var o,r=(o=(new Date).getFullYear(),-Math.max(Le(new Date(o,0,1).getTimezoneOffset()),Le(new Date(o,6,1).getTimezoneOffset())));return"UTC".concat(r>=0?"+":"").concat(Math.abs(r))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(We()||(e=window,t=navigator,Te(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!We())))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&De()&&!Oe()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return Te(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var o=e[n];if(o){for(var r=[],a=0;a<o.length;++a){var i=o[a];r.push({type:i.type,suffixes:i.suffixes})}t.push({name:o.name,description:o.description,mimeTypes:r})}}return t}},canvas:function(){var e,t,n=!1,o=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),r=o[0],a=o[1];if(function(e,t){return!(!t||!e.toDataURL)}(r,a)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(a),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(r,a);var i=Ge(r);i!==Ge(r)?e=t="unstable":(t=i,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,o=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<o.length;n++){var r=o[n],a=r[0],i=r[1],s=r[2];t.fillStyle=a,t.beginPath(),t.arc(i,s,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(r,a),e=Ge(r))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=Fe(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var o=n[t],r=window[o];r&&"object"==typeof r&&e.push(o)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!tt("inverted")||!tt("none")&&void 0},forcedColors:function(){return!!nt("active")||!nt("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return ot("no-preference")?0:ot("high")||ot("more")?1:ot("low")||ot("less")?-1:ot("forced")?10:void 0},reducedMotion:function(){return!!rt("reduce")||!rt("no-preference")&&void 0},hdr:function(){return!!at("high")||!at("standard")&&void 0},math:function(){var e,t=it.acos||st,n=it.acosh||st,o=it.asin||st,r=it.asinh||st,a=it.atanh||st,i=it.atan||st,s=it.sin||st,c=it.sinh||st,l=it.cos||st,u=it.cosh||st,d=it.tan||st,p=it.tanh||st,m=it.exp||st,h=it.expm1||st,f=it.log1p||st;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,it.log(e+it.sqrt(e*e-1))),asin:o(.12312423423423424),asinh:r(1),asinhPf:it.log(1+it.sqrt(2)),atanh:a(.5),atanhPf:it.log(3)/2,atan:i(.5),sin:s(-1e300),sinh:c(1),sinhPf:it.exp(1)-1/it.exp(1)/2,cos:l(10.000000000123),cosh:u(1),coshPf:(it.exp(1)+1/it.exp(1))/2,tan:d(-1e300),tanh:p(1),tanhPf:(it.exp(2)-1)/(it.exp(2)+1),exp:m(1),expm1:h(1),expm1Pf:it.exp(1)-1,log1p:f(10),log1pPf:it.log(11),powPI:it.pow(it.PI,-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var o=n.getExtension("WEBGL_debug_renderer_info");if(o)return{vendor:(n.getParameter(o.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(o.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}},ut="$ if upgrade to Pro: https://fpjs.dev/pro";function dt(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?me({name:(n=t).name,message:n.message,stack:null===(o=n.stack)||void 0===o?void 0:o.split("\n")},n):t;var n,o}),2)}function pt(e){return function(e,t){t=t||0;var n,o=(e=e||"").length%16,r=e.length-o,a=[0,t],i=[0,t],s=[0,0],c=[0,0],l=[2277735313,289559509],u=[1291169091,658871167];for(n=0;n<r;n+=16)s=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],c=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],s=Se(s=xe(s,l),31),a=Ce(a=Se(a=Ee(a,s=xe(s,u)),27),i),a=Ce(xe(a,[0,5]),[0,1390208809]),c=Se(c=xe(c,u),33),i=Ce(i=Se(i=Ee(i,c=xe(c,l)),31),a),i=Ce(xe(i,[0,5]),[0,944331445]);switch(s=[0,0],c=[0,0],o){case 15:c=Ee(c,Pe([0,e.charCodeAt(n+14)],48));case 14:c=Ee(c,Pe([0,e.charCodeAt(n+13)],40));case 13:c=Ee(c,Pe([0,e.charCodeAt(n+12)],32));case 12:c=Ee(c,Pe([0,e.charCodeAt(n+11)],24));case 11:c=Ee(c,Pe([0,e.charCodeAt(n+10)],16));case 10:c=Ee(c,Pe([0,e.charCodeAt(n+9)],8));case 9:c=xe(c=Ee(c,[0,e.charCodeAt(n+8)]),u),i=Ee(i,c=xe(c=Se(c,33),l));case 8:s=Ee(s,Pe([0,e.charCodeAt(n+7)],56));case 7:s=Ee(s,Pe([0,e.charCodeAt(n+6)],48));case 6:s=Ee(s,Pe([0,e.charCodeAt(n+5)],40));case 5:s=Ee(s,Pe([0,e.charCodeAt(n+4)],32));case 4:s=Ee(s,Pe([0,e.charCodeAt(n+3)],24));case 3:s=Ee(s,Pe([0,e.charCodeAt(n+2)],16));case 2:s=Ee(s,Pe([0,e.charCodeAt(n+1)],8));case 1:s=xe(s=Ee(s,[0,e.charCodeAt(n)]),l),a=Ee(a,s=xe(s=Se(s,31),u))}return a=Ce(a=Ee(a,[0,e.length]),i=Ee(i,[0,e.length])),i=Ce(i,a),a=Ce(a=Me(a),i=Me(i)),i=Ce(i,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}(function(e){for(var t="",n=0,o=Object.keys(e).sort();n<o.length;n++){var r=o[n],a=e[r],i=a.error?"error":JSON.stringify(a.value);t+="".concat(t?"|":"").concat(r.replace(/([:|\\])/g,"\\$1"),":").concat(i)}return t}(e))}function mt(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):be(Math.min(e,t))}(e,2*e)}function ht(e,t){var n=Date.now();return{get:function(o){return he(this,void 0,void 0,(function(){var r,a,i;return fe(this,(function(s){switch(s.label){case 0:return r=Date.now(),[4,e()];case 1:return a=s.sent(),i=function(e){var t,n=function(e){var t=function(e){if(Ve())return.4;if(De())return Oe()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}(e),n=function(e){return Re(.99+.01*e,1e-4)}(t);return{score:t,comment:ut.replace(/\$/g,"".concat(n))}}(e);return{get visitorId(){return void 0===t&&(t=pt(this.components)),t},set visitorId(e){t=e},confidence:n,components:e,version:ge}}(a),(t||(null==o?void 0:o.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(i.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(r-n,"\nvisitorId: ").concat(i.visitorId,"\ncomponents: ").concat(dt(a),"\n```")),[2,i]}}))}))}}}var ft={load:function(e){var t=void 0===e?{}:e,n=t.delayFallback,o=t.debug,r=t.monitoring,a=void 0===r||r;return he(this,void 0,void 0,(function(){return fe(this,(function(e){switch(e.label){case 0:return a&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(ge,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,mt(n)];case 1:return e.sent(),[2,ht(Ie(lt,{debug:o},[]),o)]}}))}))},hashComponents:pt,componentsToDebugString:dt};const yt=(0,pe.__)("An error was encountered when preparing the payment form. Please try again later.","woocommerce-payments"),gt=(e,t,n,o)=>{(0,de.useEffect)((()=>t((({processingResponse:{paymentDetails:t}})=>async function(e,t,n,o){const{redirect:r}=t;try{const t=e.confirmIntent(r,o);return!0===t?{type:"success",redirectUrl:r}:{type:"success",redirectUrl:await t}}catch(e){return{type:"error",message:e.message,messageContext:n.noticeContexts.PAYMENTS}}}(e,t,n,o)))),[e,o])},bt=window.wp.data,vt=()=>{const e=document.querySelector(".wcpay-stripelink-modal-trigger");e&&e.remove()},wt=e=>{if(!e)return null;const[t,n]=e.name.split(/ (.*)/s,2);return{first_name:t||"",last_name:n||"",address_1:e.address.line1||"",address_2:e.address.line2||"",city:e.address.city||"",country:e.address.country||"",postcode:e.address.postal_code||"",state:e.address.state||""}},_t=async e=>{const t=document.getElementById(e.emailId);if(!t)return Promise.resolve((()=>null));const n=(await e.api.getStripe()).linkAutofillModal(e.elements),o=e=>{n.launch({email:e.target.value})};return t.addEventListener("keyup",o),e.onButtonShow(n),n.on("autofill",(t=>{const{billingAddress:n,shippingAddress:o}=t.value;e.onAutofill(wt(n),wt(o)),(()=>{document.querySelector('input[name="payment_method"][value="woocommerce_payments"]')?.click();const e=document.getElementById("wc-woocommerce_payments-payment-token-new");e&&!e.checked&&(e.checked=!0,function(e){const t=new Event("change",{bubbles:!0});e.dispatchEvent(t)}(e))})()})),()=>{t.removeEventListener("keyup",o),vt()}};var kt=n(4848);const Ct=({api:e,eventRegistration:{onPaymentSetup:t,onCheckoutSuccess:n},emitResponse:o})=>{const r=(0,bt.useSelect)((e=>e("wc/store/payment").getPaymentMethodData()));return(0,le.useEffect)((()=>t((()=>{const e=window.wcpayFraudPreventionToken;return{type:"success",meta:{paymentMethodData:{...r,"wcpay-fraud-prevention-token":null!=e?e:""}}}}))),[t,r]),gt(e,n,o,!1),vt(),(0,kt.jsx)(kt.Fragment,{})};var xt=n(2926);const St=({id:e,className:t,children:n,anchor:o,open:r,onClose:a,dataTestId:i})=>{const s=(0,le.useRef)(null),[c,l]=(0,le.useState)(!1),u=(0,le.useCallback)((()=>{const e=s.current;if(!e||!o)return;const t=o.closest("label");if(!t)return;const n=t.getBoundingClientRect(),r=window.getComputedStyle(t),a=parseInt(r.paddingRight,10);e.style.position="fixed",e.style.right=window.innerWidth-(n.right-a)+"px",e.style.top=n.top-30+"px",e.style.left="auto",l(!0)}),[o]);return(0,le.useLayoutEffect)((()=>{r&&o&&requestAnimationFrame(u)}),[r,o,u]),(0,le.useEffect)((()=>{if(r&&o){const e=new MutationObserver(u);e.observe(o,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",u),window.addEventListener("scroll",u);const t=e=>{!s.current||s.current.contains(e.target)||o.contains(e.target)||null==a||a()},n=e=>{"Escape"===e.key&&(null==a||a())};return document.addEventListener("mousedown",t),document.addEventListener("keydown",n),()=>{e.disconnect(),window.removeEventListener("resize",u),window.removeEventListener("scroll",u),document.removeEventListener("mousedown",t),document.removeEventListener("keydown",n)}}}),[r,o,u,a]),r?ue().createElement("div",{id:e,ref:s,className:`logo-popover ${t||""}`,style:{position:"fixed",zIndex:1e3,opacity:c?1:0,transition:"opacity 0.2s",gridTemplateColumns:`repeat(${ue().Children.count(n)>5?5:ue().Children.count(n)}, 38px)`,left:"auto"},role:"dialog","aria-label":"Supported Credit Card Brands","data-testid":i},n):null},Pt=[{breakpoint:480,maxElements:5},{breakpoint:768,maxElements:7}],Et=[],Mt=({maxElements:e=10,paymentMethods:t=Et,breakpointConfigs:n=Pt})=>{const[o,r]=(0,le.useState)(e),[a,i]=(0,le.useState)(null),[s,c]=(0,le.useState)(!1),[l,u]=(0,le.useState)(!1),d=()=>c(!s),p=(0,le.useCallback)((e=>{null!==e&&i(e)}),[]),m=(0,le.useRef)(null),h=(0,le.useCallback)((()=>{var e;c(!1),null===(e=m.current)||void 0===e||e.focus()}),[]);return(0,le.useEffect)((()=>{const t=()=>{const t=[...n].sort(((e,t)=>e.breakpoint-t.breakpoint)).find((e=>window.innerWidth<=e.breakpoint));r(t?t.maxElements:e)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[n,e]),(0,le.useEffect)((()=>{a&&(m.current=a)}),[a]),(0,le.useEffect)((()=>{u(t.length>o)}),[o,t.length]),ue().createElement(ue().Fragment,null,ue().createElement("div",{className:"payment-methods--logos"},ue().createElement("div",Object.assign({ref:p},l&&{onClick:d,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),d())},role:"button",tabIndex:0,"aria-expanded":s,"aria-controls":"payment-methods-popover"},{"data-testid":"payment-methods-logos"}),t.slice(0,o).map((e=>ue().createElement("img",{key:e.name,alt:e.name,src:e.component,width:38,height:24}))),l&&ue().createElement("div",{className:"payment-methods--logos-count"},"+ ",t.length-o))),l&&s&&ue().createElement(St,{id:"payment-methods-popover",className:"payment-methods--logos-popover",anchor:a,open:s,onClose:h,dataTestId:"payment-methods-popover"},t.slice(o).map((e=>ue().createElement("img",{key:e.name,alt:e.name,src:e.component,width:38,height:24})))))};function Ft(e,t){const[n,o]=(0,le.useState)(null);return(0,le.useEffect)((()=>{(async()=>{const n=await e.getStripeForUPE(t);o(n)})()}),[e,t]),n}const Lt=[{name:"visa",component:n.p+"../assets/images/payment-method-icons/visa.svg?ver=fc7cc4d4e752bdf85f3d"},{name:"mastercard",component:n.p+"../assets/images/payment-method-icons/mastercard.svg?ver=4d62eb12903d72705eba"},{name:"amex",component:n.p+"../assets/images/payment-method-icons/amex.svg?ver=f55d5deea3391ea7797b"},{name:"discover",component:n.p+"../assets/images/payment-method-icons/discover.svg?ver=9c04fa2a8eed50cc729c"}],jt=[{breakpoint:550,maxElements:2},{breakpoint:330,maxElements:1}],Tt=o("paymentMethodsConfig")||{},Rt=Object.keys(Tt).filter((e=>Tt[e].isBnpl)),At=({upeName:e,countries:t,currentCountry:n,amount:o,appearance:r,children:a})=>Rt.includes(e)?o<=0?null:n&&r&&(0===t.length||t.includes(n))?(0,kt.jsx)("div",{className:"payment-method-label__pmme-container",children:a}):null:null,It=({api:e,title:t,countries:n,iconLight:r,iconDark:a,upeName:i})=>{const s=(0,de.useRef)(null),c=wp.data.select("wc/store/cart").getCartData(),l=o("testMode"),[u,d]=(0,de.useState)(o("wcBlocksUPEAppearance")),[p,m]=(0,de.useState)(o("wcBlocksUPEAppearanceTheme")),[h,f]=(0,de.useState)([]),y=parseInt(((e,t=2,n=2)=>parseInt(e*Math.pow(10,n-t),10))(c.totals.total_price,c.totals.currency_minor_unit),10),g=c.billingAddress.country||window.wcBlocksCheckoutData?.storeCountry||"US";(0,de.useEffect)((()=>{u||async function(){if(!s.current)return;f(ae(s.current.ownerDocument));let t=ie("blocks_checkout",!1,s.current.ownerDocument);t=await e.saveUPEAppearance(t,"blocks_checkout"),d(t),m(t.theme)}()}),[e,u]);const b=Ft(e,i);return b?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{ref:s,className:"payment-method-label",children:[(0,kt.jsx)("span",{className:"payment-method-label__label",children:t}),l&&(0,kt.jsx)("span",{className:"test-mode badge",children:(0,pe.__)("Test Mode","woocommerce-payments")}),"card"===i?(0,kt.jsx)(Mt,{maxElements:4,paymentMethods:Lt,breakpointConfigs:jt}):(0,kt.jsx)("img",{className:"payment-methods--logos",src:"night"===p?a:r,alt:t})]}),(0,kt.jsx)(At,{upeName:i,countries:n,amount:y,currentCountry:g,appearance:u,children:(0,kt.jsx)(xt.Elements,{stripe:b,options:{appearance:u,fonts:h},children:(0,kt.jsx)(xt.PaymentMethodMessagingElement,{options:{amount:y||0,currency:c.totals.currency_code||"USD",paymentMethodTypes:[i],countryCode:g,displayType:"promotional_text"}})})})]}):null};function Wt(e,t="",n){for(const o in e){const r=e[o],a=t?t+"["+o+"]":o;"string"==typeof r||"number"==typeof r?n.append(a,r):"object"==typeof r&&Wt(r,a,n)}return n}async function Nt(e,t,n){const o=Wt(t,"",new FormData),r=await fetch(e,{method:"POST",body:o,...n});return await r.json()}const Dt="https://cdn.sift.com/s.js",Ot="https://js.stripe.com/v3",Ht={sift:({beacon_key:e,session_id:t,user_id:n})=>{const o=window._sift=window._sift||[];if(o.push(["_setAccount",e]),o.push(["_setUserId",n]),o.push(["_setSessionId",t]),o.push(["_trackPageview"]),!document.querySelector(`[src="${Dt}"]`)){const e=document.createElement("script");e.src=Dt,e.async=!0,document.body.appendChild(e)}},stripe:()=>{if(!document.querySelector(`[src^="${Ot}"]`)){const e=document.createElement("script");e.src=Ot,e.async=!0,document.body.appendChild(e)}}},Vt=e=>e.map((e=>{var t;let n=null!==(t=e?.amount)&&void 0!==t?t:e?.value;return"total_discount"===e.key&&(n=-n),{name:e.label,amount:n}})),Bt=e=>{var t,n,o,r,a,i,s,c;return{first_name:null!==(t=e?.recipient?.split(" ")?.slice(0,1)?.join(" "))&&void 0!==t?t:"",last_name:null!==(n=e?.recipient?.split(" ")?.slice(1)?.join(" "))&&void 0!==n?n:"",company:"",address_1:null!==(o=e?.addressLine?.[0])&&void 0!==o?o:"",address_2:null!==(r=e?.addressLine?.[1])&&void 0!==r?r:"",city:null!==(a=e?.city)&&void 0!==a?a:"",state:null!==(i=e?.state)&&void 0!==i?i:"",country:null!==(s=e?.country)&&void 0!==s?s:"",postcode:null!==(c=e?.postal_code)&&void 0!==c?c:""}},qt=e=>{var t,n,o,r;return void 0!==window.wcpayExpressCheckoutParams?null!==(t=window.wcpayExpressCheckoutParams[e])&&void 0!==t?t:null:void 0!==(null===(n=window.wc)||void 0===n?void 0:n.wcSettings)&&null!==(r=null===(o=window.wc.wcSettings.getSetting("ece_data"))||void 0===o?void 0:o[e])&&void 0!==r?r:null},Zt=e=>{var t,n;let o=p();const r=qt("button");return o=null!==(t=null==r?void 0:r.radius)&&void 0!==t?t:o,void 0!==e&&(o=null!==(n=Number(null==e?void 0:e.borderRadius))&&void 0!==n?n:o),{variables:{borderRadius:`${o}px`,spacingUnit:"6px"}}},zt=(e,t,n)=>{const o=document.querySelector(`${e} [name="${t}"]`);if(o)if("SELECT"===o.tagName&&/country|state/.test(t)){const e=Array.from(o.options).find((e=>e.value===n||e.textContent.trim().toLowerCase()===n.toLowerCase()));e&&(o.value=e.value,jQuery(o).trigger("change").trigger("close"))}else o.value=n,jQuery(o).trigger("change")},Xt=window.lodash;window.wp.domReady;const Yt=(e,n={})=>{var o,r,a;const i=null!==(o=t("platformTrackerNonce"))&&void 0!==o?o:null===(r=d("nonce"))||void 0===r?void 0:r.platform_tracker,s=null!==(a=t("ajaxUrl"))&&void 0!==a?a:d("ajax_url"),c=new FormData;c.append("tracksNonce",i),c.append("action","platform_tracks"),c.append("tracksEventName",e),c.append("tracksEventProp",JSON.stringify(n)),fetch(s,{method:"post",body:c}).then((e=>e.json()))},Gt=()=>{return e=void 0,n=void 0,r=function*(){var e,n,o;let r=(()=>{const e=document.cookie.split(";");for(let t=0;t<e.length;t++){let n=e[t];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf("tk_ai="))return n.substring(6,n.length)}})();if(r){const e={_ut:"anon",_ui:r};return JSON.stringify(e)}const a=null!==(e=t("platformTrackerNonce"))&&void 0!==e?e:null===(n=d("nonce"))||void 0===n?void 0:n.platform_tracker,i=null!==(o=t("ajaxUrl"))&&void 0!==o?o:d("ajax_url"),s=new FormData;s.append("tracksNonce",a),s.append("action","get_identity");try{const e=yield fetch(i,{method:"post",body:s});if(!e.ok)return;const t=yield e.json();return t.success&&t.data&&t.data._ui&&t.data._ut?JSON.stringify(t.data):void 0}catch(e){return}},new((o=void 0)||(o=Promise))((function(t,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,s)}c((r=r.apply(e,n||[])).next())}));var e,n,o,r},Ut=(0,Xt.debounce)((({source:e})=>{Yt("applepay_button_load",{source:e})}),1e3),$t=(0,Xt.debounce)((({source:e})=>{Yt("gpay_button_load",{source:e})}),1e3);let Jt=null;const Qt=async function({availablePaymentMethods:e}){if(e){(({paymentMethods:e,source:t})=>{const n={googlePay:$t,applePay:Ut};for(const o of e){const e=n[o];e&&e({source:t})}})({paymentMethods:Object.entries(e).filter((([e,t])=>t)).map((([e,t])=>e)),source:qt("button_context")})}},Kt=()=>{jQuery.blockUI({message:null,overlayCSS:{background:"#fff",opacity:.6}})},en=()=>{jQuery.unblockUI()},tn=({api:e,billing:t,shippingData:n,onClick:o,onClose:r,setExpressPaymentError:a})=>{const i=(0,xt.useStripe)(),s=(0,xt.useElements)(),c=(()=>{var e,t,n,o,r;const a=qt("button"),i=(e,t)=>{switch(t){case"dark":default:return"black";case"light":return"white";case"light-outline":return"googlePay"===e?"white":"white-outline"}},s="default"===(null==a?void 0:a.type)?"plain":null!==(e=null==a?void 0:a.type)&&void 0!==e?e:"buy",c="default"===(null==a?void 0:a.type)?"plain":null!==(t=null==a?void 0:a.type)&&void 0!==t?t:"plain";return{paymentMethods:{applePay:"always",googlePay:"always",link:"never",paypal:"never",amazonPay:"never"},layout:{overflow:"never"},buttonTheme:{googlePay:i("googlePay",null!==(n=null==a?void 0:a.theme)&&void 0!==n?n:"black"),applePay:i("applePay",null!==(o=null==a?void 0:a.theme)&&void 0!==o?o:"black")},buttonType:{googlePay:s,applePay:c},buttonHeight:Math.min(Math.max(parseInt(null!==(r=null==a?void 0:a.height)&&void 0!==r?r:"48",10),40),55)}})(),l=e=>{Kt(),window.location=e},u=e=>{a(e),en()};return{buttonOptions:c,onButtonClick:(0,de.useCallback)((e=>{var r;if(qt("login_confirmation"))return void(e=>{const t=qt("login_confirmation");if(!t)return;let n=t.message;n=n.replace(/\*\*.*?\*\*/,{apple_pay:"Apple Pay",google_pay:"Google Pay",amazon_pay:"Amazon Pay",paypal:"PayPal",link:"Link"}[e]),n=n.replace(/\*\*/g,""),confirm(n)&&(window.location.href=t.redirect_url)})(e.expressPaymentType);const a=n?.needsShipping;let i;a&&(i=n?.shippingRates[0]?.shipping_rates?.length>0?n.shippingRates[0].shipping_rates.map((e=>({id:e.rate_id,amount:parseInt(e.price,10),displayName:e.name}))).slice(0,9):[{id:"pending",displayName:(0,pe.__)("Pending","woocommerce-payments"),amount:0}]);const s=Vt(t.cartTotalItems),c=s.reduce(((e,t)=>e+t.amount),0),l={business:{name:qt("store_name")},lineItems:t.cartTotal.value<c?[]:s,emailRequired:!0,shippingAddressRequired:a,phoneNumberRequired:null!==(r=qt("checkout")?.needs_payer_phone)&&void 0!==r&&r,shippingRates:i,allowedShippingCountries:qt("checkout").allowed_shipping_countries};o(),async function({expressPaymentType:e}){Kt(),((e,t)=>{const n={google_pay:"gpay_button_click",apple_pay:"applepay_button_click"}[e];n&&Yt(n,{source:t})})(e,qt("button_context"))}(e),e.resolve(l)}),[o,t.cartTotalItems,t.cartTotal.value,n.needsShipping,n.shippingRates]),onConfirm:async t=>{(async(e,t,n,o,r,a,i=0)=>{const{error:s}=await n.submit();if(s)return r(s.message);const{paymentMethod:c,error:l}=await t.createPaymentMethod({elements:n});if(l)return r(l.message);try{let t;if(t=i?await e.expressCheckoutECEPayForOrder(i,((e,t)=>{var n;return{payment_method:"woocommerce_payments","wcpay-payment-method":t,express_payment_type:e?.expressPaymentType,"wcpay-fraud-prevention-token":null!==(n=window.wcpayFraudPreventionToken)&&void 0!==n?n:""}})(a,c.id)):await e.expressCheckoutECECreateOrder(((e,t)=>{var n,o,r,a,i,s,c,l,u,d,p,m,h,f,y,g,b,v,w,_,k,C,x,S,P,E;const M=e?.billingDetails?.name,F=null!==(n=e?.billingDetails?.email)&&void 0!==n?n:"",L=null!==(o=e?.billingDetails?.address)&&void 0!==o?o:{},j=null!==(r=e?.shippingAddress)&&void 0!==r?r:{},T=null!==(a=window.wcpayFraudPreventionToken)&&void 0!==a?a:"",R=null!==(i=null!==(s=e?.billingDetails?.phone?.replace(/[() -]/g,""))&&void 0!==s?s:e?.payerPhone?.replace(/[() -]/g,""))&&void 0!==i?i:"";return{billing_first_name:null!==(c=M?.split(" ")?.slice(0,1)?.join(" "))&&void 0!==c?c:"",billing_last_name:null!==(l=M?.split(" ")?.slice(1)?.join(" "))&&void 0!==l?l:"-",billing_company:null!==(u=L?.organization)&&void 0!==u?u:"",billing_email:null!==(d=null!=F?F:e?.payerEmail)&&void 0!==d?d:"",billing_phone:R,billing_country:null!==(p=L?.country)&&void 0!==p?p:"",billing_address_1:null!==(m=L?.line1)&&void 0!==m?m:"",billing_address_2:null!==(h=L?.line2)&&void 0!==h?h:"",billing_city:null!==(f=L?.city)&&void 0!==f?f:"",billing_state:null!==(y=L?.state)&&void 0!==y?y:"",billing_postcode:null!==(g=L?.postal_code)&&void 0!==g?g:"",shipping_first_name:null!==(b=j?.name?.split(" ")?.slice(0,1)?.join(" "))&&void 0!==b?b:"",shipping_last_name:null!==(v=j?.name?.split(" ")?.slice(1)?.join(" "))&&void 0!==v?v:"",shipping_company:null!==(w=j?.organization)&&void 0!==w?w:"",shipping_phone:R,shipping_country:null!==(_=j?.address?.country)&&void 0!==_?_:"",shipping_address_1:null!==(k=j?.address?.line1)&&void 0!==k?k:"",shipping_address_2:null!==(C=j?.address?.line2)&&void 0!==C?C:"",shipping_city:null!==(x=j?.address?.city)&&void 0!==x?x:"",shipping_state:null!==(S=j?.address?.state)&&void 0!==S?S:"",shipping_postcode:null!==(P=j?.address?.postal_code)&&void 0!==P?P:"",shipping_method:[null!==(E=e?.shippingRate?.id)&&void 0!==E?E:null],order_comments:"",payment_method:"woocommerce_payments",ship_to_different_address:1,terms:1,"wcpay-payment-method":t,payment_request_type:e?.expressPaymentType,express_payment_type:e?.expressPaymentType,"wcpay-fraud-prevention-token":T}})(a,c.id)),"success"!==t.result)return r((e=>{const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild?t.firstChild.textContent:""})(t.messages));const n=e.confirmIntent(t.redirect);o(!0===n?t.redirect:await n)}catch(e){var u;return r(null!==(u=e.message)&&void 0!==u?u:(0,pe.__)("There was a problem processing the order.","woocommerce-payments"))}})(e,i,s,l,u,t)},onReady:Qt,onCancel:()=>{Jt&&(e=>{const t=qt("button_context"),n=qt("has_block");var o;["cart","checkout"].includes(t)&&(n?wc?.blocksCheckout?.extensionCartUpdate({namespace:"woopayments/express-checkout/refresh-ui",data:{}}):(o=e.country,["CA","GB"].includes(o)||(e=>{const t=qt("button_context"),n=Bt(e),o=["country","state","city","postcode"];"cart"===t?(o.forEach((e=>{n[e]&&zt("form.woocommerce-shipping-calculator",`calc_shipping_${e}`,n[e])})),document.querySelector('form.woocommerce-shipping-calculator [name="calc_shipping"]')?.click()):"checkout"===t&&o.forEach((e=>{n[e]&&zt("form.woocommerce-checkout",`billing_${e}`,n[e])}))})(e)))})(Jt),Jt=null,en(),r()},elements:s}},nn=["googlePay","applePay"],on=({options:e,buttonAttributes:t,theme:n})=>{const o=(0,le.useRef)(null),r=(0,le.useRef)(null),a=Zt(t).variables.borderRadius;return(0,le.useEffect)((()=>{o.current&&!r.current&&(r.current=!0,(async()=>{const t=o.current.ownerDocument,r=t.defaultView;r.google?.payments?.api?.PaymentsClient||await new Promise((e=>{const n=document.createElement("script");n.src="https://pay.google.com/gp/p/js/pay.js",n.onload=e,t.head.appendChild(n)}));const i=new r.google.payments.api.PaymentsClient({environment:"TEST"}),s="black"===n?"black":"white",c=i.createButton({buttonType:e.buttonType.googlePay,buttonColor:s,buttonRadius:parseFloat(a),buttonSizeMode:"fill",onClick:()=>{}});o.current.appendChild(c)})())}),[n,a,e.buttonType.googlePay]),(0,le.useEffect)((()=>{o.current?.querySelector("button")?.style?.setProperty("border-radius",a)}),[a]),(0,kt.jsx)("div",{ref:o,id:"express-checkout-button-preview-googlePay",style:{height:`${e.buttonHeight}px`,width:"100%"}})},rn=({options:e,buttonAttributes:t,theme:n})=>{const o=Zt(t).variables.borderRadius,r={height:`${e.buttonHeight}px`,borderRadius:o,ApplePayButtonType:e.buttonType.applePay,WebkitAppearance:"-apple-pay-button",width:"100%"};return["black","white","white-outline"].includes(n)?r.ApplePayButtonStyle=n:r.ApplePayButtonStyle="white",(0,kt.jsx)("div",{children:(0,kt.jsx)("button",{type:"button",id:"express-checkout-button-preview-applePay",className:"express-checkout-button-preview",style:r})})},an=({expressPaymentMethod:e,options:t,buttonAttributes:n})=>{const o=t.buttonTheme[e];return"googlePay"===e?(0,kt.jsx)(on,{options:t,buttonAttributes:n,theme:o}):"applePay"===e?(0,kt.jsx)(rn,{options:t,buttonAttributes:n,theme:o}):null},sn=e=>{const t=["applePay","googlePay"].includes(e)?"always":"auto";return{paymentMethods:{amazonPay:"never",applePay:"never",googlePay:"never",link:"never",paypal:"never",[e]:t}}},cn=(e,t)=>("black"===e.buttonTheme.applePay&&"applePay"===t&&(e.buttonHeight=e.buttonHeight+.4),"googlePay"===t&&"white"===e.buttonTheme.googlePay&&(e.buttonHeight=e.buttonHeight-2),e.buttonHeight=Math.max(40,Math.min(e.buttonHeight,55)),e),ln=({api:e,billing:t,shippingData:n,setExpressPaymentError:o,onClick:a,onClose:i,expressPaymentMethod:s="",buttonAttributes:c,isPreview:l=!1})=>{const{buttonOptions:u,onButtonClick:d,onConfirm:p,onReady:m,onCancel:h,elements:f}=tn({api:e,billing:t,shippingData:n,onClick:a,onClose:i,setExpressPaymentError:o}),y=l?()=>{}:d,g=()=>{const e={};return void 0!==c&&(e.buttonHeight=Number(c.height)),{...u,...e}},b={...g(),...cn(g(),s),...sn(s)};return l&&nn.includes(s)?(0,kt.jsx)(an,{expressPaymentMethod:s,buttonAttributes:c,options:b}):(0,kt.jsx)(xt.ExpressCheckoutElement,{options:b,onClick:y,onConfirm:p,onReady:e=>{const t=document.getElementById(`express-payment-method-${r}_${s}`),n=e.availablePaymentMethods||{};t&&!n[s]&&t.remove(),m(e)},onCancel:h,onShippingAddressChange:t=>(async(e,t,n)=>{Jt=t.address;try{const o=await e.expressCheckoutECECalculateShippingOptions(Bt(t.address));"success"===o.result?(n.update({amount:o.total.amount}),t.resolve({shippingRates:o.shipping_options?.slice(0,9),lineItems:Vt(o.displayItems)})):t.reject()}catch(e){t.reject()}})(e,t,f),onShippingRateChange:t=>(async(e,t,n)=>{try{const o=await e.expressCheckoutECEUpdateShippingDetails(t.shippingRate);"success"===o.result?(n.update({amount:o.total.amount}),t.resolve({lineItems:Vt(o.displayItems)})):t.reject()}catch(e){t.reject()}})(e,t,f)})},un=e=>{var t;const{api:n,billing:o,buttonAttributes:r,isPreview:a}=e,i=(0,le.useMemo)((()=>n.loadStripeForExpressCheckout()),[n]),s={mode:"payment",paymentMethodCreation:"manual",amount:a?10:o.cartTotal.value,currency:a?"usd":o.currency.code.toLowerCase(),appearance:Zt(r),locale:null!==(t=qt("stripe")?.locale)&&void 0!==t?t:"en"};return(0,kt.jsx)("div",{style:{minHeight:"40px"},children:(0,kt.jsx)(xt.Elements,{stripe:i,options:s,children:(0,kt.jsx)(ln,{...e})})})},dn=window.ReactDOM;var pn=n.n(dn);const mn=(0,Xt.memoize)(((e,t)=>new Promise((n=>{const r=document.createElement("div");r.style.display="none",document.querySelector("body").appendChild(r);const a=pn().createRoot(r),i=new ce({publishableKey:o("publishableKey"),accountId:o("accountId"),forceNetworkSavedCards:o("forceNetworkSavedCards"),locale:o("locale"),isStripeLinkEnabled:c(o("paymentMethodsConfig"))},Nt);a.render((0,kt.jsx)(xt.Elements,{stripe:i.loadStripeForExpressCheckout(),options:{mode:"payment",paymentMethodCreation:"manual",amount:Number(t.cartTotals.total_price),currency:t.cartTotals.currency_code.toLowerCase()},children:(0,kt.jsx)(xt.ExpressCheckoutElement,{onLoadError:()=>n(!1),options:{paymentMethods:{amazonPay:"never",applePay:"applePay"===e?"always":"never",googlePay:"googlePay"===e?"always":"never",link:"never",paypal:"never"}},onReady:t=>{let o=!1;t.availablePaymentMethods&&(o=t.availablePaymentMethods[e]),n(o),a.unmount(),r.remove()}})}))})))),hn=window.wp.hooks,fn=e=>{var t,n,o,r;return void 0!==window.wcpayExpressCheckoutParams?null!==(t=window.wcpayExpressCheckoutParams[e])&&void 0!==t?t:null:void 0!==(null===(n=window.wc)||void 0===n?void 0:n.wcSettings)&&null!==(r=null===(o=window.wc.wcSettings.getSetting("ece_data"))||void 0===o?void 0:o[e])&&void 0!==r?r:null},yn=e=>{if(!e)return"";const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild?t.firstChild.textContent:""},gn=e=>{var t,n;let o=p();const r=fn("button");return o=null!==(t=null==r?void 0:r.radius)&&void 0!==t?t:o,void 0!==e&&(o=null!==(n=Number(null==e?void 0:e.borderRadius))&&void 0!==n?n:o),{variables:{borderRadius:`${o}px`,spacingUnit:"6px"}}},bn=(e,t,n)=>{const o=document.querySelector(`${e} [name="${t}"]`);if(o)if("SELECT"===o.tagName&&/country|state/.test(t)){const e=Array.from(o.options).find((e=>e.value===n||e.textContent.trim().toLowerCase()===n.toLowerCase()));e&&(o.value=e.value,jQuery(o).trigger("change").trigger("close"))}else o.value=n,jQuery(o).trigger("change")},vn=(0,Xt.debounce)((({source:e})=>{Yt("applepay_button_load",{source:e})}),1e3),wn=(0,Xt.debounce)((({source:e})=>{Yt("gpay_button_load",{source:e})}),1e3),_n=window.wp.apiFetch;var kn=n.n(_n);const Cn=window.wp.url,xn=(e,t)=>{var n,o,r,a,i,s,c,l,u;return{first_name:null!==(n=e?.split(" ")?.slice(0,1)?.join(" "))&&void 0!==n?n:"",last_name:null!==(o=e?.split(" ")?.slice(1)?.join(" "))&&void 0!==o?o:"",company:null!==(r=t.organization)&&void 0!==r?r:"",address_1:null!==(a=t.line1)&&void 0!==a?a:"",address_2:null!==(i=t.line2)&&void 0!==i?i:"",city:null!==(s=t.city)&&void 0!==s?s:"",state:null!==(c=t.state)&&void 0!==c?c:"",postcode:null!==(l=t.postal_code?.replace(" ",""))&&void 0!==l?l:"",country:null!==(u=t.country)&&void 0!==u?u:""}},Sn=(e,t)=>{var n,o,r,a,i,s,c,l,u,d,p,m,h;const f=e.billingDetails?.name||"",y=null!==(n=e.billingDetails?.address)&&void 0!==n?n:{},g=null!==(o=null!==(r=e.billingDetails?.phone?.replace(/[() -]/g,""))&&void 0!==r?r:e.payerPhone?.replace(/[() -]/g,""))&&void 0!==o?o:"";return{customer_note:e.order_comments,billing_address:{first_name:null!==(a=f.split(" ")?.slice(0,1)?.join(" "))&&void 0!==a?a:"",last_name:f.split(" ")?.slice(1)?.join(" ")||"-",company:null!==(i=y.organization)&&void 0!==i?i:"",address_1:null!==(s=y.line1)&&void 0!==s?s:"",address_2:null!==(c=y.line2)&&void 0!==c?c:"",city:null!==(l=y.city)&&void 0!==l?l:"",state:null!==(u=y.state)&&void 0!==u?u:"",postcode:null!==(d=y.postal_code)&&void 0!==d?d:"",country:null!==(p=y.country)&&void 0!==p?p:"",email:null!==(m=e.billingDetails?.email)&&void 0!==m?m:"",phone:g},shipping_address:e.shippingAddress?{...xn(e.shippingAddress.name||"",e.shippingAddress.address),phone:g}:void 0,payment_method:"woocommerce_payments",payment_data:[{key:"payment_method",value:"card"},{key:"payment_request_type",value:e.expressPaymentType},{key:"wcpay-fraud-prevention-token",value:null!==(h=window.wcpayFraudPreventionToken)&&void 0!==h?h:""},{key:"wcpay-payment-method",value:t},{key:"express_payment_type",value:e.expressPaymentType}]}},Pn=window.wp.htmlEntities,En=(e,t)=>{var n;return e*10**((null!==(n=fn("checkout")?.currency_decimals)&&void 0!==n?n:2)-t.currency_minor_unit)},Mn=e=>{const t=fn("checkout").display_prices_with_tax,n=(0,hn.applyFilters)("wcpay.express-checkout.map-line-items",e),o=n.items.map((e=>({amount:En(t&&e.totals?parseInt(e.totals.line_subtotal,10)+parseInt(e.totals.line_subtotal_tax,10):parseInt(e.totals?.line_subtotal||e.prices.price,10),e.totals||e.prices),name:[e.name,e.quantity>1&&`(x${e.quantity})`,e.variation&&e.variation.length>0&&"-",e.variation&&e.variation.map((e=>`${e.attribute}: ${e.value}`)).join(", "),e.item_data&&e.item_data.length>0&&"-",e.item_data&&e.item_data.map((e=>`${e.name||e.key}: ${e.value}`)).join(", ")].filter(Boolean).map(Pn.decodeEntities).join(" ")}))),r=parseInt(n.totals.total_shipping||"0",10);r&&o.push({amount:En(t?r+parseInt(n.totals.total_shipping_tax||"0",10):r,n.totals),name:(0,pe.__)("Shipping","woocommerce-payments")});const a=parseInt(n.totals.total_discount||"0",10);a&&o.push({amount:-En(t?a+parseInt(n.totals.total_discount_tax||"0",10):a,n.totals),name:(0,pe.__)("Discount","woocommerce-payments")});const i=parseInt(n.totals.total_fees||"0",10);i&&o.push({amount:En(t?i+parseInt(n.totals.total_fees_tax||"0",10):i,n.totals),name:(0,pe.__)("Fees","woocommerce-payments")});const s=parseInt(n.totals.total_tax||"0",10);s&&!t&&o.push({amount:En(s,n.totals),name:(0,pe.__)("Tax","woocommerce-payments")});const c=parseInt(n.totals.total_refund||"0",10);return c&&o.push({amount:-En(c,n.totals),name:(0,pe.__)("Refund","woocommerce-payments")}),En(parseInt(n.totals.total_price,10)-parseInt(n.totals.total_refund||0,10),n.totals)<o.reduce(((e,{amount:t})=>e+t),0)?[]:o};let Fn=null,Ln=new class{cartRequestHeaders={};async _request(e){const t=await kn()({...e,parse:!1,path:(0,Cn.addQueryArgs)(e.path,{currency:fn("checkout").currency_code.toUpperCase()}),headers:{Nonce:fn("nonce").store_api_nonce,"X-WooPayments-Tokenized-Cart-Nonce":fn("nonce").tokenized_cart_nonce||void 0,"X-WooPayments-Tokenized-Cart-Session-Nonce":"product"===fn("button_context")?fn("nonce").tokenized_cart_session_nonce:void 0,...this.cartRequestHeaders,...e.headers}});return this.cartRequestHeaders={Nonce:t.headers.get("Nonce"),"X-WooPayments-Tokenized-Cart-Session":t.headers.get("X-WooPayments-Tokenized-Cart-Session")},t.json()}async placeOrder(e){return await this._request({method:"POST",path:"/wc/store/v1/checkout",headers:{"X-WooPayments-Tokenized-Cart":!0,...this.cartRequestHeaders},data:e})}async getCart(){return await this._request({method:"GET",path:"/wc/store/v1/cart"})}useSeparateCart(){this.cartRequestHeaders={"X-WooPayments-Tokenized-Cart-Session":""}}deleteAfterRequest(){this.cartRequestHeaders={"X-WooPayments-Tokenized-Cart-Is-Ephemeral-Cart":"1"}}async updateCustomer(e){return await this._request({method:"POST",path:"/wc/store/v1/cart/update-customer",headers:{"X-WooPayments-Tokenized-Cart":!0,...this.cartRequestHeaders},data:e})}async selectShippingRate(e){return await this._request({method:"POST",path:"/wc/store/v1/cart/select-shipping-rate",data:e})}async addProductToCart(){const e={id:jQuery(".single_add_to_cart_button").val(),quantity:parseInt(jQuery(".quantity .qty").val(),10)||1,variation:[]};return await this._request({method:"POST",path:"/wc/store/v1/cart/add-item",data:(0,hn.applyFilters)("wcpay.express-checkout.cart-add-item",e)})}async emptyCart(){try{let e=await this._request({method:"GET",path:"/wc/store/v1/cart"});for(;e.items.length>0;)e=await this._request({method:"POST",path:"/wc/store/v1/cart/remove-item",data:{key:e.items[0].key}})}catch(e){}}};const jn=async function({availablePaymentMethods:e}){if(e){(({paymentMethods:e,source:t})=>{const n={googlePay:wn,applePay:vn};for(const o of e){const e=n[o];e&&e({source:t})}})({paymentMethods:Object.entries(e).filter((([e,t])=>t)).map((([e,t])=>e)),source:fn("button_context")})}},Tn=()=>{jQuery.blockUI({message:null,overlayCSS:{background:"#fff",opacity:.6}})},Rn=()=>{jQuery.unblockUI()},An=({api:e,billing:t,shippingData:n,onClick:o,onClose:r,setExpressPaymentError:a})=>{const i=(0,xt.useStripe)(),s=(0,xt.useElements)(),c=(()=>{var e,t,n,o,r;const a=fn("button"),i=(e,t)=>{switch(t){case"dark":default:return"black";case"light":return"white";case"light-outline":return"googlePay"===e?"white":"white-outline"}},s="default"===(null==a?void 0:a.type)?"plain":null!==(e=null==a?void 0:a.type)&&void 0!==e?e:"buy",c="default"===(null==a?void 0:a.type)?"plain":null!==(t=null==a?void 0:a.type)&&void 0!==t?t:"plain";return{paymentMethods:{applePay:"always",googlePay:"always",link:"never",paypal:"never",amazonPay:"never"},layout:{overflow:"never"},buttonTheme:{googlePay:i("googlePay",null!==(n=null==a?void 0:a.theme)&&void 0!==n?n:"black"),applePay:i("applePay",null!==(o=null==a?void 0:a.theme)&&void 0!==o?o:"black")},buttonType:{googlePay:s,applePay:c},buttonHeight:Math.min(Math.max(parseInt(null!==(r=null==a?void 0:a.height)&&void 0!==r?r:"48",10),40),55)}})(),l=e=>{Tn(),window.location=e},u=e=>{a(e),Rn()};return{buttonOptions:c,onButtonClick:(0,de.useCallback)((e=>{var r;if(fn("login_confirmation"))return void(e=>{const t=fn("login_confirmation");if(!t)return;let n=t.message;n=n.replace(/\*\*.*?\*\*/,{apple_pay:"Apple Pay",google_pay:"Google Pay",amazon_pay:"Amazon Pay",paypal:"PayPal",link:"Link"}[e]),n=n.replace(/\*\*/g,""),confirm(n)&&(window.location.href=t.redirect_url)})(e.expressPaymentType);const a=n?.needsShipping;let i;a&&(i=n?.shippingRates[0]?.shipping_rates?.length>0?n.shippingRates[0].shipping_rates.map((e=>({id:e.rate_id,amount:parseInt(e.price,10),displayName:e.name}))).slice(0,9):[{id:"pending",displayName:(0,pe.__)("Pending","woocommerce-payments"),amount:0}]);const s=t.cartTotalItems.map((e=>{var t;let n=null!==(t=e?.amount)&&void 0!==t?t:e?.value;return"total_discount"===e.key&&(n=-n),{name:e.label,amount:n}})),c=s.reduce(((e,t)=>e+t.amount),0),l={business:{name:fn("store_name")},lineItems:t.cartTotal.value<c?[]:s,emailRequired:!0,shippingAddressRequired:a,phoneNumberRequired:null!==(r=fn("checkout")?.needs_payer_phone)&&void 0!==r&&r,shippingRates:i,allowedShippingCountries:fn("checkout").allowed_shipping_countries};o(),async function({expressPaymentType:e}){Tn(),((e,t)=>{const n={google_pay:"gpay_button_click",apple_pay:"applepay_button_click"}[e];n&&Yt(n,{source:t})})(e,fn("button_context"))}(e),e.resolve(l)}),[o,t.cartTotalItems,t.cartTotal.value,n.needsShipping,n.shippingRates]),onConfirm:async t=>{(async(e,t,n,o,r,a)=>{const{error:i}=await n.submit();if(i)return r(i.message);const{paymentMethod:s,error:c}=await t.createPaymentMethod({elements:n});if(c)return r(c.message);try{const t=await Ln.placeOrder({...Sn(a,s.id),extensions:(0,hn.applyFilters)("wcpay.express-checkout.cart-place-order-extension-data",{})});var l,u;if("success"!==t.payment_result.payment_status)return r(yn(null!==(l=null!==(u=t.message)&&void 0!==u?u:t.payment_result?.payment_details.find((e=>"errorMessage"===e.key))?.value)&&void 0!==l?l:""));const n=e.confirmIntent(t.payment_result.redirect_url);o(!0===n?t.payment_result.redirect_url:await n)}catch(e){return e.json&&(e=await Promise.resolve(e.json())),r(yn(e.message||e.payment_result?.payment_details.find((e=>"errorMessage"===e.key))?.value||(0,pe.__)("There was a problem processing the order.","woocommerce-payments")))}})(e,i,s,l,u,{...t,order_comments:wp?.data?.select("wc/store/checkout")?.getOrderNotes()})},onReady:jn,onCancel:()=>{Fn&&(e=>{const t=fn("button_context"),n=fn("has_block");var o;["cart","checkout"].includes(t)&&(n?wc?.blocksCheckout?.extensionCartUpdate({namespace:"woopayments/express-checkout/refresh-ui",data:{}}):(o=e.country,["CA","GB"].includes(o)||(e=>{const t=fn("button_context"),n=(o=e,{first_name:null!==(r=o?.recipient?.split(" ")?.slice(0,1)?.join(" "))&&void 0!==r?r:"",last_name:null!==(a=o?.recipient?.split(" ")?.slice(1)?.join(" "))&&void 0!==a?a:"",company:"",address_1:null!==(i=o?.addressLine?.[0])&&void 0!==i?i:"",address_2:null!==(s=o?.addressLine?.[1])&&void 0!==s?s:"",city:null!==(c=o?.city)&&void 0!==c?c:"",state:null!==(l=o?.state)&&void 0!==l?l:"",country:null!==(u=o?.country)&&void 0!==u?u:"",postcode:null!==(d=o?.postal_code)&&void 0!==d?d:""});var o,r,a,i,s,c,l,u,d;const p=["country","state","city","postcode"];"cart"===t?(p.forEach((e=>{n[e]&&bn("form.woocommerce-shipping-calculator",`calc_shipping_${e}`,n[e])})),document.querySelector('form.woocommerce-shipping-calculator [name="calc_shipping"]')?.click()):"checkout"===t&&p.forEach((e=>{n[e]&&bn("form.woocommerce-checkout",`billing_${e}`,n[e])}))})(e)))})(Fn),Fn=null,Rn(),r()},elements:s}},In=["googlePay","applePay"],Wn=({options:e,buttonAttributes:t,theme:n})=>{const o=(0,le.useRef)(null),r=(0,le.useRef)(null),a=gn(t).variables.borderRadius;return(0,le.useEffect)((()=>{o.current&&!r.current&&(r.current=!0,(async()=>{const t=o.current.ownerDocument,r=t.defaultView;r.google?.payments?.api?.PaymentsClient||await new Promise((e=>{const n=document.createElement("script");n.src="https://pay.google.com/gp/p/js/pay.js",n.onload=e,t.head.appendChild(n)}));const i=new r.google.payments.api.PaymentsClient({environment:"TEST"}),s="black"===n?"black":"white",c=i.createButton({buttonType:e.buttonType.googlePay,buttonColor:s,buttonRadius:parseFloat(a),buttonSizeMode:"fill",onClick:()=>{}});o.current.appendChild(c)})())}),[n,a,e.buttonType.googlePay]),(0,le.useEffect)((()=>{o.current?.querySelector("button")?.style?.setProperty("border-radius",a)}),[a]),(0,kt.jsx)("div",{ref:o,id:"express-checkout-button-preview-googlePay",style:{height:`${e.buttonHeight}px`,width:"100%"}})},Nn=({options:e,buttonAttributes:t,theme:n})=>{const o=gn(t).variables.borderRadius,r={height:`${e.buttonHeight}px`,borderRadius:o,ApplePayButtonType:e.buttonType.applePay,WebkitAppearance:"-apple-pay-button",width:"100%"};return["black","white","white-outline"].includes(n)?r.ApplePayButtonStyle=n:r.ApplePayButtonStyle="white",(0,kt.jsx)("div",{children:(0,kt.jsx)("button",{type:"button",id:"express-checkout-button-preview-applePay",className:"express-checkout-button-preview",style:r})})},Dn=({expressPaymentMethod:e,options:t,buttonAttributes:n})=>{const o=t.buttonTheme[e];return"googlePay"===e?(0,kt.jsx)(Wn,{options:t,buttonAttributes:n,theme:o}):"applePay"===e?(0,kt.jsx)(Nn,{options:t,buttonAttributes:n,theme:o}):null},On=e=>{const t=["applePay","googlePay"].includes(e)?"always":"auto";return{paymentMethods:{amazonPay:"never",applePay:"never",googlePay:"never",link:"never",paypal:"never",[e]:t}}},Hn=(e,t)=>("black"===e.buttonTheme.applePay&&"applePay"===t&&(e.buttonHeight=e.buttonHeight+.4),"googlePay"===t&&"white"===e.buttonTheme.googlePay&&(e.buttonHeight=e.buttonHeight-2),e.buttonHeight=Math.max(40,Math.min(e.buttonHeight,55)),e),Vn=({api:e,billing:t,shippingData:n,setExpressPaymentError:o,onClick:a,onClose:i,expressPaymentMethod:s="",buttonAttributes:c,isPreview:l=!1})=>{const{buttonOptions:u,onButtonClick:d,onConfirm:p,onReady:m,onCancel:h,elements:f}=An({api:e,billing:t,shippingData:n,onClick:a,onClose:i,setExpressPaymentError:o}),y=l?()=>{}:d,g=()=>{const e={};return void 0!==c&&(e.buttonHeight=Number(c.height)),{...u,...e}},b={...g(),...Hn(g(),s),...On(s)};return l&&In.includes(s)?(0,kt.jsx)(Dn,{expressPaymentMethod:s,buttonAttributes:c,options:b}):(0,kt.jsx)(xt.ExpressCheckoutElement,{options:b,onClick:y,onConfirm:p,onReady:e=>{const t=document.getElementById(`express-payment-method-${r}_${s}`),n=e.availablePaymentMethods||{};t&&!n[s]&&t.remove(),m(e)},onCancel:h,onShippingAddressChange:e=>(async(e,t)=>{Fn=e.address;try{const n=await Ln.updateCustomer({shipping_address:xn(e.name,e.address)}),o=(e=>{const t=fn("checkout").display_prices_with_tax;return e.shipping_rates?.[0]?.shipping_rates.sort(((e,t)=>e.selected===t.selected?0:e.selected?-1:1)).slice(0,9).map((e=>({id:e.rate_id,displayName:(0,Pn.decodeEntities)(e.name),amount:En(t?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10),e),deliveryEstimate:[e.meta_data.find((e=>"pickup_address"===e.key))?.value,e.meta_data.find((e=>"pickup_details"===e.key))?.value].filter(Boolean).map(Pn.decodeEntities).join(" - ")})))})(n);if(0===o.length)return void e.reject();t.update({amount:En(parseInt(n.totals.total_price,10)-parseInt(n.totals.total_refund||0,10),n.totals)}),e.resolve({shippingRates:o,lineItems:Mn(n)})}catch(t){e.reject()}})(e,f),onShippingRateChange:e=>(async(e,t)=>{try{const n=await Ln.selectShippingRate({package_id:0,rate_id:e.shippingRate.id});t.update({amount:En(parseInt(n.totals.total_price,10)-parseInt(n.totals.total_refund||0,10),n.totals)}),e.resolve({lineItems:Mn(n)})}catch(t){e.reject()}})(e,f)})},Bn=e=>{var t;const{api:n,billing:o,buttonAttributes:r,isPreview:a}=e,i=(0,le.useMemo)((()=>n.loadStripeForExpressCheckout()),[n]),s={mode:"payment",paymentMethodCreation:"manual",amount:a?10:o.cartTotal.value,currency:a?"usd":o.currency.code.toLowerCase(),appearance:gn(r),locale:null!==(t=fn("stripe")?.locale)&&void 0!==t?t:"en"};return(0,kt.jsx)("div",{style:{minHeight:"40px"},children:(0,kt.jsx)(xt.Elements,{stripe:i,options:s,children:(0,kt.jsx)(Vn,{...e})})})},qn=(0,Xt.memoize)(((e,t)=>new Promise((n=>{const r=document.createElement("div");r.style.display="none",document.querySelector("body").appendChild(r);const a=pn().createRoot(r),i=new ce({publishableKey:o("publishableKey"),accountId:o("accountId"),forceNetworkSavedCards:o("forceNetworkSavedCards"),locale:o("locale"),isStripeLinkEnabled:c(o("paymentMethodsConfig"))},Nt);a.render((0,kt.jsx)(xt.Elements,{stripe:i.loadStripeForExpressCheckout(),options:{mode:"payment",paymentMethodCreation:"manual",amount:Number(t.cartTotals.total_price),currency:t.cartTotals.currency_code.toLowerCase()},children:(0,kt.jsx)(xt.ExpressCheckoutElement,{onLoadError:()=>n(!1),options:{paymentMethods:{amazonPay:"never",applePay:"applePay"===e?"always":"never",googlePay:"googlePay"===e?"always":"never",link:"never",paypal:"never"}},onReady:t=>{let o=!1;t.availablePaymentMethods&&(o=t.availablePaymentMethods[e]),n(o),a.unmount(),r.remove()}})}))})))),Zn=window.wc.blocksCheckout,zn=({isLoading:e,display:t,placeholder:n,value:o,children:r})=>e?le.createElement("span",{className:t?`is-loadable-placeholder is-${t}`:"is-loadable-placeholder","aria-busy":"true"},void 0===n?r||o:n):le.createElement(le.Fragment,null,r||o),Xn=e=>{const t=le.createElement("p",{style:{lineHeight:e.numLines}},"Block placeholder");return le.createElement(zn,Object.assign({},e,{placeholder:t,display:"block"}))};var Yn=n(2485),Gn=n.n(Yn);const Un={};for(const e in o("paymentMethodsConfig"))Un[e]={elements:null,upeElement:null,hasLoadError:!1};const $n=e=>({name:`${e.first_name} ${e.last_name}`.trim(),email:e.email,phone:e.phone,address:{city:e.city,country:e.country,line1:e.address_1,line2:e.address_2,postal_code:e.postcode,state:e.state}}),Jn=()=>{var e;return null!==(e=window.wcpayFraudPreventionToken)&&void 0!==e?e:""},Qn=()=>null,Kn=({api:t,activePaymentMethod:n,testingInstructions:r,eventRegistration:{onPaymentSetup:a,onCheckoutSuccess:d,onCheckoutFail:p},emitResponse:m,paymentMethodId:h,upeMethods:f,errorMessage:y,shouldSavePayment:g,fingerprint:b,onLoadError:v=Qn,theme:w})=>{const _=(0,xt.useElements)(),k=(0,le.useRef)(!1),C=(0,le.useRef)(null),x=o("paymentMethodsConfig"),S=o("testMode"),P=f[h].gatewayId,E=(0,e.getPaymentMethods)()[P],{billingAddress:M,setShippingAddress:F,setBillingAddress:L}=(()=>{const e=(0,bt.useSelect)((e=>e(i).getCustomerData())),{setShippingAddress:t,setBillingData:n,setBillingAddress:o}=(0,bt.useDispatch)(i);return{billingAddress:e.billingAddress||e.billingData,setBillingAddress:o||n,setShippingAddress:t}})();return(0,le.useEffect)((()=>{if(n===(e=>{const t="woocommerce_payments";return"card"===e?t:`${t}_${e}`})("card")&&c(x))return _t({api:t,elements:_,emailId:"email",onAutofill:(e,t)=>{e&&(L({country:e.country}),L({...e})),t&&(F({country:t.country}),F({...t})),L({email:l()}),F({email:l()})},onButtonShow:u}).then((e=>{C.current=e})),()=>{C.current&&(C.current(),C.current=null)}}),[t,_,n,x,L,F]),(0,le.useEffect)((()=>a((()=>async function(){if(P!==n)return;if(k.current)return{type:"error",message:(0,pe.__)("Invalid or missing payment details. Please ensure the provided payment method is correctly entered.","woocommerce-payments")};if(y)return{type:"error",message:y};if(E.supports.showSaveOption&&g&&!x[h].isReusable)return{type:"error",message:(0,pe.__)("This payment method cannot be saved for future use.","woocommerce-payments")};try{await function(e){return e.submit().then((e=>{if(e.error)throw new Error(e.error.message)}))}(_)}catch(e){return{type:"error",message:e.message}}const e=await t.getStripeForUPE(h),o=await e.createPaymentMethod({elements:_,params:{billing_details:$n(M)}});return o.error?{type:"success",meta:{paymentMethodData:{payment_method:P,"wcpay-payment-method":"woocommerce_payments_payment_method_error","wcpay-payment-method-error-code":o.error.code,"wcpay-payment-method-error-decline-code":o.error.decline_code,"wcpay-payment-method-error-message":o.error.message,"wcpay-payment-method-error-type":o.error.type,"wcpay-fraud-prevention-token":Jn(),"wcpay-fingerprint":b}}}:{type:"success",meta:{paymentMethodData:{payment_method:P,"wcpay-payment-method":o.paymentMethod.id,"wcpay-fraud-prevention-token":Jn(),"wcpay-fingerprint":b}}}}()))),[n,t,_,b,E,h,x,g,P,y,a,M]),gt(t,d,m,g),((e,t)=>{(0,de.useEffect)((()=>e((({processingResponse:{paymentDetails:e}})=>({type:"failure",message:e.errorMessage,messageContext:t.noticeContexts.PAYMENTS})))),[e,t?.noticeContexts?.PAYMENTS])})(p,m),(0,kt.jsxs)(kt.Fragment,{children:[S&&(0,kt.jsx)("p",{className:Gn()("content",{[`theme--${w}`]:w}),dangerouslySetInnerHTML:{__html:r}}),(0,kt.jsx)(xt.PaymentElement,{options:s(g,x),onLoadError:e=>{k.current=!0,v(e)},className:"wcpay-payment-element"})]})},eo=({api:e,...t})=>{const n=Ft(e,t.paymentMethodId),r=(0,de.useRef)(null),[a,i]=(0,de.useState)(null),[s,l]=(0,de.useState)(void 0),[u,d]=(0,de.useState)(o("wcBlocksUPEAppearance")),[p,m]=(0,de.useState)([]),[h,f]=(()=>{const[e,t]=(0,de.useState)(""),[n,o]=(0,de.useState)(null);return(0,de.useEffect)((()=>{(async()=>{try{const{visitorId:e}=await(async()=>{const e=await ft.load({monitoring:!1});if(!e)throw new Error(yt);return await e.get()})();t(e)}catch(e){o(e.message?e.message:yt)}})()}),[]),[e,n]})(),y=Number(o("cartTotal")),g=o("currency").toLowerCase(),b=(e=>{const t=[e];return"card"===e&&c(o("paymentMethodsConfig"))&&t.push("link"),t})(t.paymentMethodId);return(0,de.useEffect)((()=>{u||async function(){if(!r.current)return;m(ae(r.current.ownerDocument));let t=ie("blocks_checkout",!1,r.current.ownerDocument);t=await e.saveUPEAppearance(t,"blocks_checkout"),d(t)}(),f&&i(f)}),[e,u,h,f,t.paymentMethodId]),(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(Xn,{isLoading:!u||!n,numLines:3,children:(0,kt.jsxs)(xt.Elements,{stripe:n,options:{mode:y<1?"setup":"payment",amount:y,currency:g,paymentMethodCreation:"manual",paymentMethodTypes:b,appearance:u,fonts:p},children:[s?.error?.message&&(0,kt.jsx)("div",{className:"wc-block-components-notices",children:(0,kt.jsx)(Zn.StoreNotice,{status:"error",isDismissible:!1,children:(0,kt.jsx)(de.RawHTML,{children:s.error.message})})}),(0,kt.jsx)(Kn,{api:e,errorMessage:a,fingerprint:h,onLoadError:l,theme:u?.theme,...t})]})}),(0,kt.jsx)("div",{ref:r})]})},to=(e,t,n,o)=>(0,kt.jsx)(eo,{paymentMethodId:e,upeMethods:t,api:n,testingInstructions:o}),no=e=>e?new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const n=document.querySelector('[data-block-name="woocommerce/checkout"]');if(!n)return t(null);new MutationObserver(((n,o)=>{document.querySelector(e)&&(t(document.querySelector(e)),o.disconnect())})).observe(n,{childList:!0,subtree:!0})})):null,oo=e=>new RegExp(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,}\.?$/i).test(e),ro=e=>{const t=window.wcpayConfig.pay_for_order,n=window.wcpayConfig.order_id,o=window.wcpayConfig.key,r=window.wcpayConfig.billing_email;if(!t||!n||!o)return e;const a=new URL(e);return a.searchParams.append("pay_for_order",t),a.searchParams.append("order_id",n),a.searchParams.append("key",o),a.searchParams.append("billing_email",r),a.href},ao=()=>{const e=document.cookie.split(";").find((e=>e.includes("skip_woopay")));if(!e)return!1;const t=e?.split("=");return"skip_woopay"===t[0].trim()&&"1"===t[1].trim()},io=()=>{ao()&&(document.cookie="skip_woopay=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;")},so=e=>"woopay_shortcode_checkout"===e,co=e=>(0,kt.jsx)("svg",{viewBox:"0 0 109 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,kt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.496 5.785v16.42h2.766v-6.179h4.37c1.104 0 2.059-.23 2.865-.689.807-.46 1.424-1.075 1.852-1.846.428-.788.642-1.65.642-2.585 0-.936-.214-1.79-.642-2.56a4.714 4.714 0 0 0-1.852-1.872c-.79-.46-1.745-.69-2.864-.69h-7.137Zm2.766 7.804h4c.56 0 1.054-.107 1.482-.32.445-.23.79-.55 1.037-.96.247-.41.37-.878.37-1.403 0-.526-.123-.993-.37-1.404a2.386 2.386 0 0 0-1.037-.935c-.428-.23-.922-.345-1.482-.345h-4v5.367Zm15.693 8.912c-1.02 0-1.934-.246-2.74-.739-.808-.508-1.441-1.23-1.902-2.166-.445-.936-.667-2.043-.667-3.323 0-1.264.222-2.364.667-3.3.46-.951 1.094-1.682 1.901-2.19.807-.51 1.72-.764 2.741-.764.823 0 1.597.206 2.321.616a4.761 4.761 0 0 1 1.556 1.352v-1.672h2.47v11.89h-2.47v-1.667a5.231 5.231 0 0 1-1.556 1.372 4.695 4.695 0 0 1-2.32.591Zm2.692-9.675c.53.311.924.673 1.185 1.084v4.757c-.26.423-.656.79-1.185 1.101-.642.361-1.3.542-1.976.542-1.053 0-1.893-.37-2.519-1.108-.609-.755-.913-1.731-.913-2.93 0-.787.132-1.485.395-2.092a3.327 3.327 0 0 1 1.21-1.428c.527-.345 1.136-.517 1.827-.517.675 0 1.334.197 1.976.59Zm6.422 11.817c.115.066.271.115.469.148.197.032.395.049.592.049.395 0 .725-.082.988-.246.264-.164.478-.435.642-.813l.625-1.442-4.897-12.024h2.642l3.556 9.035 3.556-9.035h2.667l-5.803 14.106c0 .017-.008.025-.024.025v.05c-.264.607-.585 1.099-.964 1.476a3.337 3.337 0 0 1-1.284.813c-.477.164-1.02.246-1.63.246a6.98 6.98 0 0 1-1.53-.172l.395-2.216ZM39.45 5.512c-4.856 0-8.575 3.614-8.575 8.502 0 4.888 3.743 8.478 8.575 8.478 4.832 0 8.527-3.614 8.551-8.478 0-4.888-3.719-8.502-8.551-8.502Zm0 11.76c-1.824 0-3.08-1.369-3.08-3.258 0-1.89 1.256-3.283 3.08-3.283s3.08 1.394 3.08 3.283-1.233 3.259-3.08 3.259Zm-30.463 5.22c1.919 0 3.458-.945 4.619-3.117l2.582-4.818v4.085c0 2.41 1.563 3.85 3.98 3.85 1.894 0 3.292-.827 4.642-3.117l5.946-10.013c1.302-2.196.378-3.85-2.488-3.85-1.54 0-2.534.496-3.434 2.173l-4.098 7.675V8.535c0-2.03-.971-3.022-2.772-3.022-1.42 0-2.558.614-3.434 2.314l-3.861 7.533V8.606c0-2.172-.9-3.093-3.08-3.093H3.136c-1.682 0-2.534.779-2.534 2.22 0 1.44.9 2.266 2.534 2.266H4.96v8.62c0 2.432 1.634 3.873 4.027 3.873Zm40.221-8.478c0-4.888 3.719-8.502 8.551-8.502 4.832 0 8.551 3.637 8.551 8.502 0 4.864-3.719 8.478-8.55 8.478-4.833 0-8.552-3.59-8.552-8.478Zm5.495 0c0 1.889 1.208 3.259 3.056 3.259 1.824 0 3.08-1.37 3.08-3.26 0-1.888-1.256-3.282-3.08-3.282s-3.056 1.394-3.056 3.283Z",fill:"#fff",...e})}),lo=e=>(0,kt.jsxs)("svg",{viewBox:"0 0 100 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,kt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M63.963 4.435v15.121h2.547v-5.69h4.025c1.016 0 1.895-.212 2.638-.635a4.384 4.384 0 0 0 1.705-1.7 4.906 4.906 0 0 0 .591-2.38c0-.862-.197-1.648-.59-2.358a4.341 4.341 0 0 0-1.706-1.723c-.728-.423-1.607-.635-2.638-.635h-6.572Zm2.547 7.187h3.684c.515 0 .97-.099 1.364-.295.41-.212.728-.506.955-.884.228-.378.341-.809.341-1.292 0-.484-.113-.915-.34-1.293a2.197 2.197 0 0 0-.956-.861c-.394-.212-.849-.318-1.364-.318H66.51v4.943Zm14.451 8.206c-.94 0-1.781-.226-2.524-.68-.743-.468-1.326-1.133-1.75-1.995-.41-.861-.615-1.881-.615-3.06 0-1.164.205-2.177.614-3.038.425-.877 1.008-1.55 1.751-2.018.743-.468 1.584-.703 2.524-.703.758 0 1.47.19 2.138.567a4.384 4.384 0 0 1 1.432 1.245v-1.54h2.274v10.95h-2.274V18.02c-.393.517-.87.938-1.432 1.264a4.323 4.323 0 0 1-2.138.544Zm2.479-8.91c.487.287.851.62 1.091 1v4.38c-.24.39-.604.727-1.091 1.014-.591.332-1.198.499-1.82.499-.97 0-1.743-.34-2.319-1.02-.56-.696-.841-1.595-.841-2.698 0-.726.121-1.368.364-1.927.257-.56.629-.998 1.114-1.315.485-.318 1.046-.476 1.683-.476.621 0 1.228.181 1.819.544Zm5.913 10.883c.107.06.25.106.433.136.181.03.363.045.545.045.364 0 .667-.075.91-.227.243-.15.44-.4.591-.748l.576-1.328-4.51-11.073h2.433l3.275 8.32 3.274-8.32h2.456l-5.344 12.99c0 .016-.007.023-.022.023v.046c-.243.559-.538 1.012-.887 1.36a3.079 3.079 0 0 1-1.183.748c-.44.151-.94.227-1.5.227a6.449 6.449 0 0 1-1.41-.159l.364-2.04Z",fill:"#000",...e}),(0,kt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.242 19.82c1.767 0 3.185-.87 4.254-2.871l2.377-4.436v3.762c0 2.218 1.44 3.545 3.665 3.545 1.745 0 3.032-.762 4.275-2.871l5.475-9.22c1.2-2.023.35-3.545-2.29-3.545-1.418 0-2.334.457-3.163 2l-3.774 7.068V6.968c0-1.87-.894-2.784-2.552-2.784-1.308 0-2.355.565-3.162 2.131L9.79 13.252v-6.22c0-2-.829-2.848-2.836-2.848h-4.1c-1.55 0-2.334.718-2.334 2.044 0 1.327.828 2.088 2.334 2.088h1.68v7.937c0 2.24 1.504 3.567 3.707 3.567ZM36.295 4.184c-4.472 0-7.897 3.327-7.897 7.829 0 4.501 3.447 7.807 7.897 7.807s7.852-3.328 7.874-7.807c0-4.502-3.425-7.829-7.874-7.829Zm0 10.83c-1.68 0-2.836-1.262-2.836-3.001 0-1.74 1.156-3.023 2.836-3.023s2.835 1.283 2.835 3.023c0 1.74-1.134 3-2.835 3Zm8.985-3.001c0-4.502 3.425-7.829 7.875-7.829s7.874 3.349 7.874 7.829c0 4.48-3.424 7.807-7.874 7.807-4.45 0-7.875-3.306-7.875-7.807Zm5.061 0c0 1.74 1.112 3 2.814 3 1.68 0 2.835-1.26 2.835-3S54.834 8.99 53.155 8.99c-1.68 0-2.814 1.283-2.814 3.023Z",fill:"#873EFF"})]}),uo=(e,n)=>{"wcSettings"in window&&wcSettings.wcBlocksConfig&&"product"!==e?wp.data.dispatch("core/notices")?.createNotice("error",n,{context:`wc/${e}`}):fetch(t("ajaxUrl"),{method:"POST",body:new URLSearchParams({action:"woopay_express_checkout_button_show_error_notice",_ajax_nonce:t("woopayButtonNonce"),context:e,message:n})}).then((e=>e.json())).then((e=>{if(e.success){const t=document.querySelector(".woocommerce-notices-wrapper"),n=document.createElement("div");n.innerHTML=e.data.notice,t.insertBefore(n,null),t.scrollIntoView({behavior:"smooth",block:"center"})}}))},po=async(e,n,o)=>{const r=await Gt();let a="";const i=document.body,s=document.createElement("div");s.setAttribute("role","dialog"),s.setAttribute("aria-modal","true"),s.classList.add("woopay-otp-iframe-wrapper");const c=document.createElement("iframe");c.title=(0,pe.__)("WooPay SMS code verification","woocommerce-payments"),c.classList.add("woopay-otp-iframe"),c.classList.add("intrinsic-ignore");const l=768;let u=!0;const d=()=>{(l<=window.innerWidth&&u||l>window.innerWidth&&!u)&&(u=!u,c.contentWindow.postMessage({action:"setHeader",value:u},t("woopayHost"))),document.body.style.overflow="hidden"},p=()=>{if(!c)return;if(l>window.innerWidth)return c.style.left="0",c.style.right="",void(c.style.top="0");const e=c.getBoundingClientRect();c.style.top=Math.floor(window.innerHeight/2-e.height/2)+"px",c.style.left=Math.floor(window.innerWidth/2-e.width/2)+"px"};c.addEventListener("load",(()=>{u=!0;const e=se(),n=so(e)&&t("isWooPayGlobalThemeSupportEnabled")?ie(e,!0):null;t("isWoopayFirstPartyAuthEnabled")&&Nt(h(t("wcAjaxUrl"),"get_woopay_session"),{_ajax_nonce:t("woopaySessionNonce"),order_id:t("order_id"),key:t("key"),billing_email:t("billing_email"),appearance:n}).then((e=>{e?.data?.session&&c.contentWindow.postMessage({action:"setSessionData",value:e},t("woopayHost"))})),d(),window.addEventListener("resize",d),p(),window.addEventListener("resize",p),c.classList.add("open")})),s.insertBefore(c,null);const m=()=>{window.removeEventListener("resize",d),window.removeEventListener("resize",p),window.removeEventListener("pageshow",y),window.removeEventListener("message",f),document.removeEventListener("keyup",g),s.remove(),c.classList.remove("open"),document.body.style.overflow=""};function f(o){if(t("woopayHost").startsWith(o.origin))switch(o.data.action){case"otp_email_submitted":a=o.data.userEmail;break;case"redirect_to_woopay_skip_session_init":o.data.redirectUrl&&(window.location=ro(o.data.redirectUrl));break;case"redirect_to_platform_checkout":case"redirect_to_woopay":e.initWooPay(a||o.data.userEmail,o.data.platformCheckoutUserSession).then((e=>{if(document.querySelector(".woopay-otp-iframe"))if("success"===e.result)window.location=ro(e.url);else{const e=(0,pe.__)("WooPay is unavailable at this time. Sorry for the inconvenience.","woocommerce-payments");uo(n,e),m()}}));break;case"otp_validation_failed":break;case"close_modal":m();break;case"iframe_height":o.data.height>300&&(l<=window.innerWidth?(c.style.height=o.data.height+"px",c.style.top=Math.floor(window.innerHeight/2-o.data.height/2)+"px"):(c.style.height="",c.style.top=""))}}function y(e){e.persisted&&m()}function g(e){"Escape"===e.key&&m()&&e.stopPropagation()}s.addEventListener("click",m);const b=await(async e=>{if("true"===window.wcpayConfig?.pay_for_order)return window.wcpayCustomerData?.email;const t=await no(e);return t?.value})(o);((e="")=>{if(document.querySelector(".woopay-otp-iframe"))return;window.addEventListener("pageshow",y),window.addEventListener("message",f),document.addEventListener("keyup",g);const o=window.document.documentElement.clientWidth,u=window.document.documentElement.clientHeight,d=new URLSearchParams;d.append("testMode",t("testMode")),d.append("needsHeader",l>window.innerWidth),d.append("wcpayVersion",t("wcpayVersionNumber")),e&&oo(e)&&(a=e,d.append("email",e)),d.append("is_blocks",!!window.wcSettings?.wcBlocksConfig),d.append("is_express","true"),d.append("express_context",n),d.append("source_url",window.location.href),d.append("viewport",`${o}x${u}`),r&&d.append("tracksUserIdentity",r),c.src=`${t("woopayHost")}/otp/?${d.toString()}`,i.insertBefore(s,null),p(),c.focus()})(b||t("woopaySessionEmail"))};var mo=n(9517),ho=n.n(mo);function fo(e){return e.startsWith("{{/")?{type:"componentClose",value:e.replace(/\W/g,"")}:e.endsWith("/}}")?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.startsWith("{{")?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}function yo(e,t){let n,o,r=[];for(let a=0;a<e.length;a++){const i=e[a];if("string"!==i.type){if(void 0===t[i.value])throw new Error(`Invalid interpolation, missing component node: \`${i.value}\``);if("object"!=typeof t[i.value])throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \`${i.value}\``);if("componentClose"===i.type)throw new Error(`Missing opening component token: \`${i.value}\``);if("componentOpen"===i.type){n=t[i.value],o=a;break}r.push(t[i.value])}else r.push(i.value)}if(n){const a=function(e,t){const n=t[e];let o=0;for(let r=e+1;r<t.length;r++){const e=t[r];if(e.value===n.value){if("componentOpen"===e.type){o++;continue}if("componentClose"===e.type){if(0===o)return r;o--}}}throw new Error("Missing closing component token `"+n.value+"`")}(o,e),i=yo(e.slice(o+1,a),t),s=(0,le.cloneElement)(n,{},i);if(r.push(s),a<e.length-1){const n=yo(e.slice(a+1),t);r=r.concat(n)}}return r=r.filter(Boolean),0===r.length?null:1===r.length?r[0]:(0,le.createElement)(le.Fragment,null,...r)}function go(e){const{mixedString:t,components:n,throwErrors:o}=e;if(!n)return t;if("object"!=typeof n){if(o)throw new Error(`Interpolation Error: unable to process \`${t}\` because components is not an object`);return t}const r=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(fo)}(t);try{return yo(r,n)}catch(e){if(o)throw new Error(`Interpolation Error: unable to process \`${t}\` because of error \`${e.message}\``);return t}}function bo(e){window.WooPayConnect||(window.WooPayConnect={}),window.WooPayConnect.iframeInjectedState=e}function vo(){return window?.WooPayConnect?.postMessageTimeout||5e3}const wo=()=>{const e=(0,le.useRef)(),[n,o]=(0,le.useState)("");return(0,le.useEffect)((()=>{(async()=>{const e=t("testMode"),n=t("woopayHost"),r=t("woopayMerchantId"),a=new URLSearchParams({testMode:e,source_url:window.location.href,blogId:r}),i=await Gt();i&&a.append("tracksUserIdentity",i),o(`${n}/connect/?${a.toString()}`)})()}),[]),(0,le.useEffect)((()=>{if(!e.current)return;const n=e.current;n.addEventListener("load",(()=>{bo(2),window.dispatchEvent(new MessageEvent("message",{source:window,origin:t("woopayHost"),data:{action:"get_iframe_post_message_success",value:e=>n.contentWindow.postMessage(e,t("woopayHost"))}}))}))}),[n]),(0,kt.jsx)("iframe",{ref:e,id:"woopay-connect-iframe",src:n,style:{height:0,width:0,border:"none",margin:0,padding:0,overflow:"hidden",display:"block",visibility:"hidden",position:"fixed",pointerEvents:"none",userSelect:"none"},title:(0,pe.__)("WooPay Connect Direct Checkout","woocommerce-payments")})},_o=class{iframePostMessage=null;listeners={};constructor(){this.listeners={getIframePostMessageCallback:()=>{},getPostMessageTimeoutCallback:()=>{}},this.removeMessageListener=this.attachMessageListener(),this.injectWooPayConnectIframe()}attachMessageListener(){const e=e=>{t("woopayHost").startsWith(e.origin)&&this.callbackFn(e.data)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}detachMessageListener(){"function"==typeof this.removeMessageListener&&this.removeMessageListener()}injectWooPayConnectIframe(){const e=window?.WooPayConnect?.iframeInjectedState||0;if(2===e){const e=document.querySelector("#woopay-connect-iframe");return void(e&&(this.iframePostMessage=Promise.resolve((n=>{e.contentWindow.postMessage(n,t("woopayHost"))}))))}if(1===e)return void(this.iframePostMessage=new Promise((e=>{this.listeners.getIframePostMessageCallback=e})));bo(1);const n=document.createElement("div");n.style.visibility="hidden",n.style.position="fixed",n.style.height="0",n.style.width="0",n.style.bottom="0",n.style.right="0",n.id="woopay-connect-iframe-container",document.body.appendChild(n);const o=this;this.iframePostMessage=new Promise((e=>{o.listeners.getIframePostMessageCallback=e})),pn().render((0,kt.jsx)(wo,{}),n)}injectTemporaryWooPayConnectIframe(){let e;const n=new Promise((t=>{e=t})),o=document.createElement("iframe");return o.id="temp-woopay-connect-iframe",o.src=t("woopayHost")+"/connect/",o.height=0,o.width=0,o.border="none",o.margin=0,o.padding=0,o.overflow="hidden",o.display="block",o.visibility="hidden",o.position="fixed",o.pointerEvents="none",o.userSelect="none",o.addEventListener("load",(()=>{e((e=>o.contentWindow.postMessage(e,t("woopayHost"))))})),document.body.appendChild(o),{resolvePostMessagePromise:n,removeTemporaryIframe:()=>{document.body.removeChild(o)}}}async sendMessageAndListenWith(e,t){const n=new Promise(((e,n)=>{let o=!1;const r=setTimeout((()=>{o=!0,n(new Error("WooPayConnectIframe did not respond within the allotted time."))}),vo());this.listeners[t]=t=>{o||(r&&clearTimeout(r),e(t))}}));if("function"!=typeof this.iframePostMessage?.then)throw new Error("iframePostMessage is not set");return(await this.iframePostMessage)(e),await n}async getPostMessageTimeout(){try{return await this.sendMessageAndListenWith({action:"getPostMessageTimeout"},"getPostMessageTimeoutCallback")}catch(e){return null}}callbackFn(e){switch(e.action){case"get_iframe_post_message_success":this.listeners.getIframePostMessageCallback(e.value);break;case"get_post_message_timeout_success":this.listeners.getPostMessageTimeoutCallback(e.value)}}},ko=class extends _o{constructor(){super(),this.listeners={...this.listeners,setRedirectSessionDataCallback:()=>{},setTempThirdPartyCookieCallback:()=>{},getIsWooPayReachableCallback:()=>{},getIsThirdPartyCookiesEnabledCallback:()=>{},setPreemptiveSessionDataCallback:()=>{}}}async isWooPayThirdPartyCookiesEnabled(){const{resolvePostMessagePromise:e,removeTemporaryIframe:t}=this.injectTemporaryWooPayConnectIframe(),n=new Promise(((e,t)=>{let n=!1;const o=setTimeout((()=>{n=!0,t(new Error("WooPayConnectIframe did not respond within the allotted time."))}),vo());this.listeners.setTempThirdPartyCookieCallback=t=>{n||(o&&clearTimeout(o),e(t))}}));if("function"!=typeof e?.then)return!1;const o=await e;o({action:"setTempThirdPartyCookie"});try{if(!await n)return t(),!1}catch(e){return t(),!1}const r=new Promise(((e,t)=>{let n=!1;const o=setTimeout((()=>{n=!0,t(new Error("WooPayConnectIframe did not respond within the allotted time."))}),vo());this.listeners.getIsThirdPartyCookiesEnabledCallback=t=>{n||(o&&clearTimeout(o),e(t))}}));o({action:"getIsThirdPartyCookiesEnabled"});try{return await r}catch(e){return!1}finally{t()}}async sendRedirectSessionDataToWooPay(e){try{return await super.sendMessageAndListenWith({action:"setRedirectSessionData",value:e},"setRedirectSessionDataCallback")}catch(e){return null}}async setPreemptiveSessionData(e){try{return await super.sendMessageAndListenWith({action:"setPreemptiveSessionData",value:e},"setPreemptiveSessionDataCallback")}catch(e){return null}}async isWooPayReachable(){try{return await this.sendMessageAndListenWith({action:"isWooPayReachable"},"getIsWooPayReachableCallback")}catch(e){return!1}}callbackFn(e){switch(super.callbackFn(e),e.action){case"set_redirect_session_data_success":this.listeners.setRedirectSessionDataCallback(e.value);break;case"set_redirect_session_data_error":this.listeners.setRedirectSessionDataCallback({is_error:!0});break;case"set_temp_third_party_cookie_success":this.listeners.setTempThirdPartyCookieCallback(e.value);break;case"get_is_third_party_cookies_enabled_success":this.listeners.getIsThirdPartyCookiesEnabledCallback(e.value);break;case"get_is_woopay_reachable_success":this.listeners.getIsWooPayReachableCallback(e.value);break;case"set_preemptive_session_data_success":this.listeners.setPreemptiveSessionDataCallback(e.value);break;case"set_preemptive_session_data_error":this.listeners.setPreemptiveSessionDataCallback({is_error:!0})}}},Co=class{static sessionConnect;static init(){this.getSessionConnect()}static getSessionConnect(){return this.sessionConnect||(this.sessionConnect=new ko),this.sessionConnect}static async sendPreemptiveSessionDataToWooPay(e){return this.getSessionConnect().setPreemptiveSessionData(e)}static async getWooPaySessionFromMerchant(e){return Nt(h(t("wcAjaxUrl"),"get_woopay_session"),e)}},xo={default:(0,pe.__)("WooPay","woocommerce-payments"),buy:(0,pe.__)("Buy with WooPay","woocommerce-payments"),donate:(0,pe.__)("Donate with WooPay","woocommerce-payments"),book:(0,pe.__)("Book with WooPay","woocommerce-payments")},So=({listenForCartChanges:e,isPreview:n=!1,buttonSettings:o,api:r,isProductPage:a=!1,emailSelector:i="#email",buttonAttributes:s})=>{var c;const l="narrow",u="wide",d=(0,le.useRef)(null),p=(0,le.useRef)(null),m=(0,le.useRef)(!1);let{height:h,type:f,theme:y,context:g,radius:b}=o;const[v,w]=(0,le.useState)(!1),[_,k]=(0,le.useState)(u),C=new Map;var x;C.set("40","small"),C.set("48","medium"),C.set("55","large"),void 0!==s&&(h=s.height||h,b=null!==(x=s.borderRadius)&&void 0!==x?x:b);const S=C.get(h?.toString())||"medium",P=null!==(c=xo[f||"default"])&&void 0!==c?c:xo.default,E="dark"===y?co:lo,{addToCart:M,getProductData:F}=(e=>({addToCart:t=>e.expressCheckoutAddToCart(t),getProductData:()=>{const e=document.querySelector(".single_add_to_cart_button").value,t=document.querySelector(".bundle_form"),n=document.querySelector(".single_variation_wrap");let o={product_id:e,quantity:document.querySelector(".quantity .qty").value};if(n&&!t)o.product_id=n.querySelector('input[name="product_id"]').value,o.attributes=document.querySelector(".variations_form")?(()=>{const e=document.querySelector(".variations_form")?.querySelectorAll(".variations select"),t={};return e&&e.forEach((e=>{const n=e.name,o=e.value||"";t[n]=o})),t})():[];else{const e=new FormData(document.querySelector("form.cart"));e.delete("add-to-cart");const t={};for(const n of e.entries())t[n[0]]=n[1];o={...o,...t}}const r=document.querySelector("form.cart");return!(r&&(new FormData(r).forEach(((e,t)=>{if(/^(addon-|wc_)/.test(t))if(/\[\]$/.test(t)){const n=t.substring(0,t.length-2);o[n]?o[n].push(e):o[n]=[e]}else o[t]=e})),!(e=>{const t=["wc_gc_giftcard_to","wc_gc_giftcard_from","wc_gc_giftcard_to_multiple"];for(const n of t)if(e.hasOwnProperty(n)&&!e[n])return alert((0,pe.__)("Please fill out all required fields","woocommerce-payments")),!1;return e.hasOwnProperty("wc_gc_giftcard_to_multiple")&&!e.wc_gc_giftcard_to_multiple.split(",").every((e=>ho()(e.trim())))?(alert((0,pe.__)("Please type only valid emails","woocommerce-payments")),!1):!(e.hasOwnProperty("wc_gc_giftcard_to")&&!ho()(e.wc_gc_giftcard_to)&&(alert((0,pe.__)("Please type only valid emails","woocommerce-payments")),1))})(o)))&&o}}))(r),L=(0,le.useRef)(F),j=(0,le.useRef)(M);(0,le.useEffect)((()=>{if(!p.current)return;const e=p.current.getBoundingClientRect().width;k(e>140?u:l)}),[l,u]),(0,le.useEffect)((()=>{n||Yt("woopay_button_load",{source:g})}),[n,g]);const T=(0,le.useCallback)((()=>{if(!a)return!0;const e=document.querySelector(".single_add_to_cart_button");return!e||!e.disabled&&!e.classList.contains("disabled")||(e.classList.contains("wc-variation-is-unavailable")?window.alert(window?.wc_add_to_cart_variation_params?.i18n_unavailable_text||(0,pe.__)("Sorry, this product is unavailable. Please choose a different combination.","woocommerce-payments")):window.alert((0,pe.__)("Please select your product options before proceeding.","woocommerce-payments")),!1)}),[a]),R=(0,le.useCallback)((e=>{if(e?.preventDefault(),!n&&(Yt("woopay_button_click",{source:g}),io(),T()))if(a){const e=L.current();if(!e)return;j.current(e).then((e=>{e.error?e.submit&&document.querySelector("form.cart").submit():po(r,g,i)}))}else po(r,g,i)}),[r,g,i,n,a,T]),A=(0,le.useCallback)((o=>{if(o.preventDefault(),n||m.current)return;if(Yt("woopay_button_click",{source:g}),io(),!T())return;m.current=!0,w(!0);const r=se(),i=so(r)&&t("isWooPayGlobalThemeSupportEnabled")?ie(r,!0):null;if(a){const n=L.current();if(!n)return;"function"==typeof e?.stop&&e.stop(),j.current(n).then((()=>{"function"==typeof e?.start&&e.start(),Co.getWooPaySessionFromMerchant({_ajax_nonce:t("woopaySessionNonce"),appearance:i}).then((async e=>{if(!e?.blog_id||!e?.data?.session)throw d.current=R,new Error(e?.data);{const t=await Co.sendPreemptiveSessionDataToWooPay(e);if(t?.is_error)return R(null),d.current=R,m.current=!1,void w(!1);window.location.href=ro(t.redirect_url)}})).catch((()=>{const e=(0,pe.__)("Something went wrong. Please try again.","woocommerce-payments");uo(g,e),m.current=!1,w(!1)}))}))}else Co.getWooPaySessionFromMerchant({_ajax_nonce:t("woopaySessionNonce"),order_id:t("order_id"),key:t("key"),billing_email:t("billing_email"),appearance:i}).then((async e=>{if(!e?.blog_id||!e?.data?.session)throw d.current=R,new Error(e?.data);{const t=await Co.sendPreemptiveSessionDataToWooPay(e);if(t?.is_error)return R(null),d.current=R,m.current=!1,void w(!1);window.location.href=ro(t.redirect_url)}}))?.catch((()=>{const e=(0,pe.__)("Something went wrong. Please try again.","woocommerce-payments");uo(g,e),m.current=!1,w(!1)}))}),[T,g,n,a,e,R]);return(0,le.useEffect)((()=>{t("isWoopayFirstPartyAuthEnabled")?(d.current=A,Co.init()):d.current=R}),[A,R]),(0,le.useEffect)((()=>{const e=e=>{e?.persisted&&(m.current=!1,w(!1))};return window.addEventListener("pageshow",e),()=>{window.removeEventListener("pageshow",e)}}),[]),(0,kt.jsx)("div",{id:"wcpay-woopay-button",children:(0,kt.jsx)("button",{ref:p,"aria-label":P,onClick:e=>d.current(e),className:Gn()("woopay-express-button",{"is-loading":v}),"data-type":f,"data-size":S,"data-theme":y,"data-width-type":_,style:{height:`${h}px`,borderRadius:`${b}px`},disabled:v,type:"button",children:v?(0,kt.jsx)("span",{className:"wc-block-components-spinner"}):(0,kt.jsx)("div",{className:"button-content",children:go({mixedString:P.replace(xo.default,"{{wooPayLogo /}}"),components:{wooPayLogo:(0,kt.jsx)(E,{})}})})},`${f}-${y}-${S}`)})},Po=new ce({publishableKey:t("publishableKey"),accountId:t("accountId"),forceNetworkSavedCards:t("forceNetworkSavedCards"),locale:t("locale")},Nt),Eo=({buttonAttributes:e})=>{const n=(0,le.useCallback)((n=>{n&&pn().createRoot(n).render((0,kt.jsx)(So,{buttonSettings:t("woopayButton"),api:Po,emailSelector:"#email",buttonAttributes:e}))}),[e]);return(0,kt.jsx)("span",{ref:n})};let Mo=null;document.addEventListener("click",(function(e){const t=e.target?.closest(".js-woopayments-copy-test-number");if(!t)return;e.preventDefault();const n=t.querySelector("span").innerText;navigator.clipboard?(navigator.clipboard.writeText(n),window.wp?.data?.dispatch("core/notices")?.createInfoNotice((0,pe.__)("Test number copied to your clipboard!","woocommerce-payments"),{id:"woopayments/test-number-copied",type:"snackbar",context:"wc/checkout/payments"}),t.classList.add("state--success"),clearTimeout(Mo),Mo=setTimeout((()=>{t.classList.remove("state--success")}),2e3)):prompt((0,pe.__)("Copy the test number:","woocommerce-payments"),n)}),!1);const Fo=o("paymentMethodsConfig"),Lo=c(Fo),jo=new ce({publishableKey:o("publishableKey"),accountId:o("accountId"),forceNetworkSavedCards:o("forceNetworkSavedCards"),locale:o("locale"),isStripeLinkEnabled:Lo},Nt);if(Object.entries(Fo).filter((([e])=>"link"!==e)).forEach((([t,n])=>{var r,a;(0,e.registerPaymentMethod)({name:n.gatewayId,content:to(t,Fo,jo,n.testingInstructions),edit:to(t,Fo,jo,n.testingInstructions),savedTokenComponent:(0,kt.jsx)(Ct,{api:jo}),canMakePayment:e=>{const t=e.billingAddress.country,o=e.cart.cartNeedsPayment,r=!n.countries.length||n.countries.includes(t);return o&&r},paymentMethodId:n.gatewayId,label:(0,kt.jsx)(It,{api:jo,title:n.title,countries:n.countries,iconLight:n.icon,iconDark:n.darkIcon,upeName:t}),ariaLabel:"WooPayments",supports:{showSavedCards:null!==(r=o("isSavedCardsEnabled"))&&void 0!==r&&r,showSaveOption:null!==(a=n.showSaveOption)&&void 0!==a&&a,features:o("features")}})})),o("isWooPayEnabled")&&(document.querySelector('[data-block-name="woocommerce/checkout"]')&&o("isWooPayEmailInputEnabled")&&null===new URLSearchParams(window.location.search).get("customize_messenger_channel")&&!t("isPreview")&&(async(e,n,o=!1)=>{if("true"===window.wcpayConfig?.pay_for_order)return;let r;const a=await no(e),i=await Gt();if(!a)return;const s=document.createElement("div"),c=a.parentNode;s.classList.add("wc-block-components-spinner");const l=document.createElement("div");l.setAttribute("role","dialog"),l.setAttribute("aria-modal","true"),l.classList.add("woopay-otp-iframe-wrapper");const u=document.createElement("iframe");u.title=(0,pe.__)("WooPay SMS code verification","woocommerce-payments"),u.classList.add("woopay-otp-iframe"),u.classList.add("intrinsic-ignore");const d=document.createElement("span");d.setAttribute("aria-hidden","true"),d.classList.add("arrow");const p=768,m=new URLSearchParams(window.location.search),f=ao(),y="undefined"!=typeof performance&&"back_forward"===performance.getEntriesByType("navigation")[0].type||"true"===m.get("skip_woopay")||f;if(y&&!f){const e=new Date,t=new Date(e.getTime()+864e5);document.cookie=`skip_woopay=1; path=/; expires=${t.toUTCString()}`}let g=!0;const b=()=>{(p<=window.innerWidth&&g||p>window.innerWidth&&!g)&&(g=!g,u.contentWindow.postMessage({action:"setHeader",value:g},t("woopayHost"))),document.body.style.overflow="hidden"},v=()=>{if(!u)return;if(p>window.innerWidth)return u.style.left="0",void(u.style.right="");if(u.getBoundingClientRect().top<=0||window.innerHeight-(u.getBoundingClientRect().height+u.getBoundingClientRect().top)<=0){const e=50,t=document.documentElement.scrollTop+a.getBoundingClientRect().top-u.getBoundingClientRect().height/2-e;window.scrollTo({top:t})}const e=a.getBoundingClientRect(),t=u.getBoundingClientRect();u.style.top=Math.floor(e.top-t.height/2)+"px",d.style.top=Math.floor(e.top+e.height/2-parseFloat(window.getComputedStyle(d)["border-right-width"]))+"px",window.innerWidth-(e.right+t.width)<=50?(u.style.left="auto",d.style.left="auto",u.style.right="50px",d.style.right=`${t.width+50}px`):(u.style.left=`${e.right+5}px`,u.style.right="",d.style.left=e.right-10+"px",d.style.right="")};u.addEventListener("load",(()=>{g=!0;const e=se(),n=so(e)&&t("isWooPayGlobalThemeSupportEnabled")?ie(e,!0):null;t("isWoopayFirstPartyAuthEnabled")&&Nt(h(t("wcAjaxUrl"),"get_woopay_session"),{_ajax_nonce:t("woopaySessionNonce"),order_id:t("order_id"),key:t("key"),billing_email:t("billing_email"),appearance:n}).then((e=>{e?.data?.session&&u.contentWindow.postMessage({action:"setSessionData",value:e},t("woopayHost"))})),b(),window.addEventListener("resize",b),v(),window.addEventListener("resize",v),u.classList.add("open")})),l.insertBefore(d,null),l.insertBefore(u,null);const w=document.createElement("div");w.style["white-space"]="normal",w.textContent=(0,pe.__)("WooPay is unavailable at this time. Please complete your checkout below. Sorry for the inconvenience.","woocommerce-payments");const _=(e=!0)=>{window.removeEventListener("resize",b),window.removeEventListener("resize",v),l.remove(),u.classList.remove("open"),e&&a.focus(),document.body.style.overflow=""};l.addEventListener("click",_);const k=()=>{c.insertBefore(w,a.nextSibling)};document.addEventListener("keyup",(e=>{"Escape"===e.key&&_()&&e.stopPropagation()}));const C=new AbortController,{signal:x}=C;x.addEventListener("abort",(()=>{s.remove(),_(!1)})),o?(await no("button.wc-block-components-checkout-place-order-button")).addEventListener("click",(()=>{C.abort()})):document.querySelector('form[name="checkout"]').addEventListener("submit",(()=>{C.abort()}));const S=e=>{const t=new CustomEvent("woopayUserCheck",{detail:{isRegisteredUser:e}});window.dispatchEvent(t)},P=async(e,n=!0)=>{c.insertBefore(s,a),c.contains(w)&&c.removeChild(w),Yt("checkout_email_address_woopay_check"),Nt(h(t("wcAjaxUrl"),"get_woopay_signature"),{_ajax_nonce:t("woopaySignatureNonce")}).then((e=>{if(e.success)return e.data;throw new Error((0,pe.__)("Request for signature failed.","woocommerce-payments"))})).then((e=>{if(e.signature)return e.signature;throw new Error((0,pe.__)("Signature not found.","woocommerce-payments"))})).then((n=>{const o=new URLSearchParams;return o.append("email",e),o.append("test_mode",!!t("testMode")),o.append("wcpay_version",t("wcpayVersionNumber")),o.append("blog_id",t("woopayMerchantId")),o.append("request_signature",n),fetch(`${t("woopayHost")}/wp-json/platform-checkout/v1/user/exists?${o.toString()}`,{signal:x})})).then((e=>(200!==e.status&&k(),e.json()))).then((r=>{S(r["user-exists"]),r["user-exists"]?n&&(e=>{if(document.querySelector(".woopay-otp-iframe"))return;const n=window.document.documentElement.clientWidth,r=window.document.documentElement.clientHeight,a=new URLSearchParams;a.append("email",e),a.append("testMode",t("testMode")),a.append("needsHeader",p>window.innerWidth),a.append("wcpayVersion",t("wcpayVersionNumber")),a.append("is_blocks",o?"true":"false"),a.append("source_url",wcSettings?.storePages?.checkout?.permalink),a.append("viewport",`${n}x${r}`),i&&a.append("tracksUserIdentity",i),u.src=`${t("woopayHost")}/otp/?${a.toString()}`,c.insertBefore(l,null),v(),u.focus()})(e):"rest_invalid_param"!==r.code&&(Yt("checkout_woopay_save_my_info_offered"),window.woopayCheckout?.PRE_CHECK_SAVE_MY_INFO&&Yt("checkout_save_my_info_click",{status:"checked"}))})).catch((e=>{"AbortError"!==e.name&&k()})).finally((()=>{s.remove()}))};if(a.addEventListener("input",(e=>{const t=e.currentTarget.value;clearTimeout(r),s.remove(),r=setTimeout((()=>{S(!1),oo(t)&&P(t)}),500)})),window.addEventListener("message",(e=>{if(t("woopayHost").startsWith(e.origin))switch(e.data.action){case"redirect_to_woopay_skip_session_init":e.data.redirectUrl&&(io(),window.location=ro(e.data.redirectUrl));break;case"redirect_to_platform_checkout":case"redirect_to_woopay":const t=n.initWooPay(a.value,e.data.platformCheckoutUserSession);if(!t)break;t.then((e=>{document.querySelector(".woopay-otp-iframe")&&("success"===e.result?(io(),window.location=e.url):(k(),_(!1)))})).catch((()=>{k(),_(!1)}));break;case"otp_validation_failed":break;case"close_modal":_();break;case"iframe_height":if(e.data.height>300)if(p<=window.innerWidth){u.style.height=e.data.height+"px";const t=a.getBoundingClientRect();u.style.top=Math.floor(t.top-e.data.height/2)+"px",d.style.top=Math.floor(t.top+t.height/2-parseFloat(window.getComputedStyle(d)["border-right-width"]))+"px"}else u.style.height="",u.style.top=""}})),window.addEventListener("pageshow",(function(e){e.persisted&&_(!1)})),a.value){const e=a.value;oo(e)&&P(e,!1)}if(y){setTimeout((()=>{S(!0)}),2e3),Yt("woopay_skipped",{}),m.delete("skip_woopay");let{pathname:e}=window.location;""!==m.toString()&&(e+="?"+m.toString()),history.replaceState(null,null,e),_(!1)}})("#email",jo,!0),o("shouldShowWooPayButton")&&(0,e.registerExpressPaymentMethod)({name:a,title:"WooPayments - WooPay",description:(0,pe.__)("A one-click, high-converting, secure checkout built for Woo — themed to your brand.","woocommerce-payments"),gatewayId:"woocommerce_payments",content:(0,kt.jsx)(Eo,{}),edit:(0,kt.jsx)(So,{buttonSettings:t("woopayButton"),isPreview:!0,emailSelector:"#email"}),canMakePayment:()=>"undefined"!=typeof wcpayConfig,paymentMethodId:a,supports:{features:t("features"),style:["height","borderRadius"]}})),o("isPaymentRequestEnabled")&&(o("isTokenizedCartEceEnabled")?((0,e.registerExpressPaymentMethod)((e=>({paymentMethodId:r,name:r+"_applePay",title:"WooPayments - Apple Pay",description:(0,pe.__)("An easy, secure way to pay that's accepted on millions of stores.","woocommerce-payments"),gatewayId:"woocommerce_payments",content:(0,kt.jsx)(Bn,{api:e,expressPaymentMethod:"applePay"}),edit:(0,kt.jsx)(Bn,{api:e,expressPaymentMethod:"applePay",isPreview:!0}),supports:{features:t("features"),style:["height","borderRadius"]},canMakePayment:({cart:e})=>"undefined"!=typeof wcpayExpressCheckoutParams&&qn("applePay",e)}))(jo)),(0,e.registerExpressPaymentMethod)((e=>({paymentMethodId:r,name:r+"_googlePay",title:"WooPayments - Google Pay",description:(0,pe.__)("Simplify checkout with fewer steps to pay.","woocommerce-payments"),gatewayId:"woocommerce_payments",content:(0,kt.jsx)(Bn,{api:e,expressPaymentMethod:"googlePay"}),edit:(0,kt.jsx)(Bn,{api:e,expressPaymentMethod:"googlePay",isPreview:!0}),supports:{features:t("features"),style:["height","borderRadius"]},canMakePayment:({cart:e})=>"undefined"!=typeof wcpayExpressCheckoutParams&&qn("googlePay",e)}))(jo))):((0,e.registerExpressPaymentMethod)((e=>({paymentMethodId:r,name:r+"_applePay",title:"WooPayments - Apple Pay",description:(0,pe.__)("An easy, secure way to pay that's accepted on millions of stores.","woocommerce-payments"),gatewayId:"woocommerce_payments",content:(0,kt.jsx)(un,{api:e,expressPaymentMethod:"applePay"}),edit:(0,kt.jsx)(un,{api:e,expressPaymentMethod:"applePay",isPreview:!0}),supports:{features:t("features"),style:["height","borderRadius"]},canMakePayment:({cart:e})=>"undefined"!=typeof wcpayExpressCheckoutParams&&mn("applePay",e)}))(jo)),(0,e.registerExpressPaymentMethod)((e=>({paymentMethodId:r,name:r+"_googlePay",title:"WooPayments - Google Pay",description:(0,pe.__)("Simplify checkout with fewer steps to pay.","woocommerce-payments"),gatewayId:"woocommerce_payments",content:(0,kt.jsx)(un,{api:e,expressPaymentMethod:"googlePay"}),edit:(0,kt.jsx)(un,{api:e,expressPaymentMethod:"googlePay",isPreview:!0}),supports:{features:t("features"),style:["height","borderRadius"]},canMakePayment:({cart:e})=>"undefined"!=typeof wcpayExpressCheckoutParams&&mn("googlePay",e)}))(jo)))),window.addEventListener("load",(()=>{(e=>{for(const t in e){const n=Ht[t];n&&e[t]&&n(e[t])}})(o("fraudServices")),(()=>{const e=document.getElementsByClassName("wc-block-components-checkout-place-order-button");e.length&&e[0].addEventListener("click",(()=>{const e=document.getElementById("radio-control-wc-payment-method-options-woocommerce_payments");e?.checked&&Yt("checkout_place_order_button_click")}))})()})),t("isMultiCurrencyEnabled")){const{registerCheckoutFilters:e}=window.wc.blocksCheckout;e("woocommerce-payments",{totalValue:(e,t,n)=>{const{cart:o}=n;return o?.cartTotals?.currency_code?`<price/> ${o.cartTotals.currency_code}`:e}})}})()})();