"use strict"; var filebirdGallery = { template: '\n    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="pswp__bg"></div>\n    <div class="pswp__scroll-wrap">\n        <div class="pswp__container">\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n            <div class="pswp__item"></div>\n        </div>\n        <div class="pswp__ui pswp__ui--hidden">\n            <div class="pswp__top-bar">\n                <div class="pswp__counter"></div>\n                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n                <button class="pswp__button pswp__button--share" title="Share"></button>\n                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n                <div class="pswp__preloader">\n                    <div class="pswp__preloader__icn">\n                      <div class="pswp__preloader__cut">\n                        <div class="pswp__preloader__donut"></div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n                <div class="pswp__share-tooltip"></div> \n            </div>\n            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n            </button>\n            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n            </button>\n            <div class="pswp__caption">\n                <div class="pswp__caption__center"></div>\n            </div>\n        </div>\n    </div>\n    </div>', createGallery: function (e) { document.getElementsByClassName("pswp").length || document.body.insertAdjacentHTML("beforeend", filebirdGallery.template), filebirdGallery.initPhotoSwipeFromDOM(e) }, parseThumbnailElements: function (e) { for (var t, n, i, l, s, r = e.childNodes, o = r.length, a = [], p = 0; p < o; p++)l = (i = r[p]).querySelector("img"), n = (t = i.querySelector("figure")).querySelector("figcaption") || document.createElement("figcaption"), s = { src: l.getAttribute("src"), w: parseInt(l.getAttribute("width"), 10), h: parseInt(l.getAttribute("height"), 10), title: l.getAttribute("alt") + ' <div class="fbv-gallery-caption">' + n.innerHTML + "</div>", msrc: l.getAttribute("src"), el: t }, a.push(s); return a }, openPhotoSwipe: function (e, t, n, i) { var l, s, r = document.querySelectorAll(".pswp")[0]; if (s = filebirdGallery.parseThumbnailElements(t), l = { galleryUID: t.getAttribute("data-pswp-uid"), getThumbBoundsFn: function (e) { var t = s[e].el.getElementsByTagName("img")[0], n = window.pageYOffset || document.documentElement.scrollTop, i = t.getBoundingClientRect(); return { x: i.left, y: i.top + n, w: i.width } } }, i) if (l.galleryPIDs) { for (var o = 0; o < s.length; o++)if (s[o].pid == e) { l.index = o; break } } else l.index = parseInt(e, 10) - 1; else l.index = parseInt(e, 10); isNaN(l.index) || (n && (l.showAnimationDuration = 0), new PhotoSwipe(r, PhotoSwipeUI_Default, s, l).init()) }, onThumbnailsClick: function (e) { (e = e || window.event).preventDefault ? e.preventDefault() : e.returnValue = !1; var t = (e.target || e.srcElement).closest(".blocks-gallery-item"); if (t) { for (var n, i = t.parentNode, l = t.parentNode.childNodes, s = l.length, r = 0, o = 0; o < s; o++)if (1 === l[o].nodeType) { if (l[o] === t) { n = r; break } r++ } return n >= 0 && filebirdGallery.openPhotoSwipe(n, i), !1 } }, initPhotoSwipeFromDOM: function (e) { for (var t = document.querySelectorAll(e), n = 0, i = t.length; n < i; n++)t[n].setAttribute("data-pswp-uid", n + 1), t[n].onclick = filebirdGallery.onThumbnailsClick } }; document.addEventListener("DOMContentLoaded", (function () { filebirdGallery.createGallery(".filebird-block-filebird-gallery") }));